<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profit Insider - Client Portal</title>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --gold: #FFD700;
            --bright-gold: #FFC107;
            --amber: #FFA500;
            --black: #000000;
            --dark: #0a0a0a;
            --slate: #1a1a1a;
            --dark-gray: #161616;
            --gray: #888888;
            --light-gray: #b4b4b4;
            --white: #ffffff;
            --glass-bg: rgba(26, 26, 26, 0.6);
            --glass-border: rgba(255, 215, 0, 0.2);
            --glow-gold: rgba(255, 215, 0, 0.5);
            --error-red: #ef4444;
            --success-green: #10b981;
        }

        body {
            font-family: 'Manrope', -apple-system, sans-serif;
            background: var(--black);
            color: var(--white);
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Static Gradient Background - Performance Optimized */
        .background {
            position: fixed;
            inset: 0;
            z-index: 0;
            background: 
                radial-gradient(ellipse 800px 600px at 20% 30%, rgba(255, 215, 0, 0.12) 0%, transparent 50%),
                radial-gradient(ellipse 900px 700px at 80% 70%, rgba(255, 193, 7, 0.10) 0%, transparent 50%),
                radial-gradient(ellipse 600px 600px at 50% 50%, rgba(255, 215, 0, 0.05) 0%, transparent 60%),
                linear-gradient(180deg, #000000 0%, #0a0a0a 50%, #000000 100%);
            overflow: hidden;
        }

        /* Subtle static grain texture overlay */
        .background::after {
            content: '';
            position: absolute;
            inset: 0;
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(255, 215, 0, 0.04) 0%, transparent 40%),
                radial-gradient(circle at 80% 20%, rgba(255, 193, 7, 0.04) 0%, transparent 40%),
                radial-gradient(circle at 50% 50%, rgba(255, 215, 0, 0.02) 0%, transparent 50%);
            opacity: 0.8;
        }

        /* Mobile Blocker Screen */
        .mobile-blocker {
            display: none;
            position: fixed;
            inset: 0;
            z-index: 10000;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            align-items: center;
            justify-content: center;
        }

        .mobile-blocker.active {
            display: flex;
        }

        .mobile-blocker-content {
            text-align: center;
            padding: 40px;
            max-width: 500px;
            animation: fadeIn 0.6s ease;
        }

        .mobile-blocker-icon {
            margin-bottom: 32px;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .mobile-blocker-title {
            font-size: 36px;
            font-weight: 800;
            background: linear-gradient(135deg, #FFD700, #FFC107);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 24px;
        }

        .mobile-blocker-message {
            font-size: 18px;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            margin-bottom: 16px;
            font-weight: 600;
        }

        .mobile-blocker-submessage {
            font-size: 15px;
            color: rgba(255, 255, 255, 0.6);
            line-height: 1.6;
            margin-bottom: 40px;
        }

        .mobile-blocker-devices {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            padding: 24px;
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 16px;
        }

        .device-icon {
            font-size: 48px;
        }

        .device-text {
            font-size: 18px;
            font-weight: 700;
            color: #FFD700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Login Screen */
        .login-screen {
            position: fixed;
            inset: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.98);
            transition: opacity 0.6s ease, visibility 0.6s ease;
        }

        .login-screen.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
            display: none;
        }

        /* Animated texture background for login - more visible */
        .login-screen::before {
            content: '';
            position: absolute;
            inset: 0;
            background-image: 
                radial-gradient(circle, rgba(255, 215, 0, 0.5) 2px, transparent 2px),
                radial-gradient(ellipse at 30% 40%, rgba(255, 215, 0, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 70% 60%, rgba(255, 193, 7, 0.06) 0%, transparent 50%);
            background-size: 60px 60px, 100% 100%, 100% 100%;
            opacity: 0.6;
            animation: subtleFloat 20s ease-in-out infinite;
        }

        @keyframes subtleFloat {
            0%, 100% {
                background-position: 0px 0px, 0% 0%, 100% 0%;
            }
            50% {
                background-position: 40px 40px, 50% 50%, 50% 50%;
            }
        }

        .login-card {
            background: rgba(26, 26, 26, 0.9);
            backdrop-filter: blur(30px);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 24px;
            padding: 56px;
            width: 90%;
            max-width: 480px;
            box-shadow: 0 30px 60px -12px rgba(0, 0, 0, 0.8),
                        0 0 80px rgba(255, 215, 0, 0.15);
            animation: slideUp 0.6s ease;
            position: relative;
            z-index: 1;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(40px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .login-logo {
            text-align: center;
            margin-bottom: 16px;
        }

        .pi-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 24px;
            background: #000000;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 40px rgba(255, 215, 0, 0.4),
                        inset 0 2px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            padding: 12px;
            border: 2px solid rgba(255, 215, 0, 0.3);
        }

        .pi-icon img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .pi-icon::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            animation: shimmer 3s linear infinite;
            z-index: 1;
        }

        @keyframes shimmer {
            0% {
                transform: rotate(0deg) translateX(-100%);
            }
            100% {
                transform: rotate(0deg) translateX(100%);
            }
        }

        .login-title {
            font-size: 15px;
            font-weight: 600;
            color: var(--gold);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 8px;
        }

        .login-subtitle {
            font-size: 13px;
            color: var(--gray);
            margin-bottom: 40px;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-group label {
            display: block;
            font-size: 12px;
            font-weight: 600;
            color: var(--gold);
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .form-group input {
            width: 100%;
            padding: 16px 18px;
            background: rgba(10, 10, 10, 0.8);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
            color: var(--white);
            font-family: 'Manrope', sans-serif;
            font-size: 15px;
            transition: all 0.3s ease;
        }

        .form-group input::placeholder {
            color: var(--gray);
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--gold);
            background: rgba(10, 10, 10, 1);
            box-shadow: 0 0 0 4px rgba(255, 215, 0, 0.1),
                        0 0 30px rgba(255, 215, 0, 0.2);
        }

        .login-button {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #FFD700, #FFC107);
            border: none;
            border-radius: 12px;
            color: var(--black);
            font-family: 'Manrope', sans-serif;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 10px 40px -10px rgba(255, 215, 0, 0.7);
            transition: all 0.3s ease;
            min-height: 58px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .login-button #loginText {
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 160px;
            height: 22px;
        }

        .login-button .loading-spinner {
            width: 22px;
            height: 22px;
            border: 3px solid rgba(10, 10, 10, 0.2);
            border-top-color: #0a0a0a;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin: 0;
        }

        .login-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 50px -10px rgba(255, 215, 0, 0.9);
        }

        /* Main Dashboard */
        .dashboard {
            position: relative;
            z-index: 1;
            opacity: 0;
            transition: opacity 0.6s ease 0.3s;
        }

        .dashboard.visible {
            opacity: 1;
        }

        /* Navigation */
        .nav {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 215, 0, 0.15);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px 40px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .nav-logo-section {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .nav-pi-icon {
            width: 40px;
            height: 40px;
            background: #000000;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
            padding: 6px;
            border: 2px solid rgba(255, 215, 0, 0.3);
        }

        .nav-pi-icon img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .nav-brand {
            font-size: 18px;
            font-weight: 700;
            color: var(--white);
            letter-spacing: 0.5px;
        }

        .nav-menu {
            display: flex;
            gap: 8px;
            list-style: none;
        }

        .nav-item {
            padding: 10px 20px;
            color: var(--light-gray);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .nav-item:hover {
            color: var(--gold);
            background: rgba(255, 215, 0, 0.1);
        }

        .nav-item.active {
            color: var(--black);
            background: linear-gradient(135deg, #FFD700, #FFC107);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        /* Account Display */
        .account-widget {
            background: rgba(26, 26, 26, 0.8);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
            padding: 10px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .account-widget:hover {
            border-color: rgba(255, 215, 0, 0.4);
            background: rgba(26, 26, 26, 1);
        }

        .account-avatar {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, #FFD700, #FFC107);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 700;
            color: var(--black);
        }

        .account-info {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .account-name {
            font-size: 13px;
            font-weight: 600;
            color: var(--white);
        }

        .account-status {
            font-size: 11px;
            color: var(--success-green);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: #10b981;
            border-radius: 50%;
            display: inline-block;
        }

        .status-dot.blinking {
            animation: blink-green 2s ease-in-out infinite;
        }

        @keyframes blink-green {
            0%, 100% {
                opacity: 1;
                box-shadow: 0 0 4px #10b981;
            }
            50% {
                opacity: 0.3;
                box-shadow: 0 0 0px #10b981;
            }
        }

        @keyframes pulse-dot {
            0%, 100% {
                opacity: 1;
                transform: scale(1);
            }
            50% {
                opacity: 0.5;
                transform: scale(1.2);
            }
        }

        /* Account Dropdown */
        .account-dropdown {
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            background: rgba(26, 26, 26, 0.98);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
            padding: 8px;
            min-width: 200px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        .account-widget.open .account-dropdown {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            padding: 12px 16px;
            color: var(--light-gray);
            font-size: 14px;
            font-weight: 500;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .dropdown-item:hover {
            background: rgba(255, 215, 0, 0.1);
            color: var(--gold);
        }

        .dropdown-item.logout {
            color: #fca5a5;
            border-top: 1px solid rgba(255, 215, 0, 0.1);
            margin-top: 4px;
        }

        .dropdown-item.logout:hover {
            background: rgba(239, 68, 68, 0.1);
            color: var(--error-red);
        }

        /* Main Content */
        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px;
            min-height: calc(100vh - 200px);
        }

        .page {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .page.active {
            display: block;
        }

        /* Support page should appear instantly without animation to prevent choppy resize */
        #support {
            animation: none !important;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Video Library Styles */
        .section-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 32px;
        }

        .exclusive-badge {
            padding: 6px 14px;
            background: rgba(255, 215, 0, 0.15);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            color: var(--gold);
            text-transform: uppercase;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .page-title {
            font-size: 48px;
            font-weight: 800;
            margin-bottom: 12px;
            color: var(--white);
            letter-spacing: -1px;
        }

        .page-subtitle {
            color: var(--gray);
            font-size: 16px;
            margin-bottom: 48px;
        }

        /* Video Grid */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
            gap: 24px;
            margin-bottom: 60px;
        }

        .video-card {
            background: rgba(22, 22, 22, 0.8);
            border: 2px solid rgba(255, 215, 0, 0.1);
            border-radius: 16px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .video-card:hover {
            transform: translateY(-8px);
            border-color: rgba(255, 215, 0, 0.3);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.6),
                        0 0 40px rgba(255, 215, 0, 0.15);
        }

        .video-thumbnail {
            position: relative;
            padding-bottom: 56.25%;
            background: linear-gradient(135deg, rgba(26, 26, 26, 1), rgba(10, 10, 10, 1));
            overflow: hidden;
        }

        .video-thumbnail::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at center, rgba(255, 215, 0, 0.1), transparent 70%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .video-card:hover .video-thumbnail::before {
            opacity: 1;
        }

        .video-play-btn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 70px;
            height: 70px;
            background: rgba(255, 215, 0, 0.9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.4s ease;
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4);
        }

        .video-play-btn::after {
            content: '';
            width: 0;
            height: 0;
            border-left: 18px solid var(--black);
            border-top: 11px solid transparent;
            border-bottom: 11px solid transparent;
            margin-left: 4px;
        }

        .video-card:hover .video-play-btn {
            transform: translate(-50%, -50%) scale(1.15);
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.6);
        }

        .video-duration {
            position: absolute;
            bottom: 12px;
            right: 12px;
            padding: 4px 10px;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            color: var(--white);
        }

        .video-info {
            padding: 20px;
        }

        .video-category {
            display: inline-block;
            padding: 4px 12px;
            background: rgba(255, 215, 0, 0.15);
            border-radius: 6px;
            font-size: 11px;
            font-weight: 700;
            color: var(--gold);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
        }

        .video-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--white);
            margin-bottom: 8px;
            line-height: 1.3;
        }

        .video-description {
            font-size: 14px;
            color: var(--gray);
            line-height: 1.5;
            margin-bottom: 12px;
        }

        .video-meta {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: var(--gray);
        }

        /* Video Detail Page */
        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: rgba(26, 26, 26, 0.6);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 10px;
            color: var(--light-gray);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 32px;
        }

        .back-button:hover {
            border-color: rgba(255, 215, 0, 0.4);
            color: var(--gold);
            background: rgba(26, 26, 26, 0.8);
        }

        .video-detail-header {
            margin-bottom: 32px;
        }

        .video-detail-title {
            font-size: 42px;
            font-weight: 800;
            color: var(--white);
            margin-bottom: 16px;
            line-height: 1.2;
        }

        .video-detail-meta {
            display: flex;
            align-items: center;
            gap: 20px;
            font-size: 14px;
            color: var(--gray);
        }

        .video-player-container {
            margin-bottom: 40px;
            position: relative;
        }

        .video-player-placeholder {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, rgba(26, 26, 26, 1), rgba(10, 10, 10, 1));
        }

        .video-player-text {
            color: var(--gray);
            font-size: 14px;
        }

        .video-about-section {
            background: rgba(26, 26, 26, 0.6);
            border: 2px solid rgba(255, 215, 0, 0.15);
            border-radius: 20px;
            padding: 32px;
            margin-bottom: 40px;
        }

        .about-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 24px;
        }

        .about-icon {
            font-size: 20px;
        }

        .about-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--white);
        }

        .about-text {
            font-size: 15px;
            color: var(--light-gray);
            line-height: 1.7;
            margin-bottom: 24px;
        }

        .topics-section {
            margin-top: 28px;
        }

        .topics-label {
            font-size: 14px;
            font-weight: 700;
            color: var(--white);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 16px;
        }

        .topics-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }

        .topic-tag {
            padding: 10px 18px;
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 10px;
            font-size: 13px;
            font-weight: 600;
            color: var(--gold);
        }

        /* Support Button */
        .support-button {
            position: fixed;
            bottom: 40px;
            right: 40px;
            z-index: 99;
            padding: 18px 32px;
            background: linear-gradient(135deg, #dc2626, #ef4444);
            border: none;
            border-radius: 12px;
            color: var(--white);
            font-family: 'Manrope', sans-serif;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 10px 40px -10px rgba(239, 68, 68, 0.7);
            transition: all 0.3s ease, opacity 0.5s ease, transform 0.5s ease;
            opacity: 1;
            transform: translateY(0);
        }

        /* Smooth fade out when hidden */
        .support-button.hidden {
            opacity: 0;
            transform: translateY(20px);
            pointer-events: none;
        }

        .support-button:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 15px 50px -10px rgba(239, 68, 68, 0.9);
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: rgba(26, 26, 26, 0.7);
            backdrop-filter: blur(30px);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 20px;
            padding: 28px;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-6px);
            border-color: rgba(255, 215, 0, 0.4);
            box-shadow: 0 20px 50px -10px rgba(0, 0, 0, 0.5);
        }

        .stat-label {
            font-size: 13px;
            color: var(--gold);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .stat-value {
            font-size: 36px;
            font-weight: 800;
            background: linear-gradient(135deg, #ffffff, #FFD700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
        }

        .stat-change {
            font-size: 14px;
            font-weight: 600;
        }

        .stat-change.positive {
            color: var(--success-green);
        }

        /* Algorithm Stats Preview */
        .algo-stats-preview {
            margin-top: 60px;
            padding: 32px;
            background: rgba(26, 26, 26, 0.6);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        .algo-stats-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 24px;
            border-bottom: 2px solid rgba(255, 215, 0, 0.15);
        }

        .algo-stats-title h2 {
            font-size: 28px;
            font-weight: 700;
            color: #FFD700;
            margin: 0 0 8px 0;
        }

        .algo-stats-title p {
            font-size: 15px;
            color: rgba(255, 255, 255, 0.6);
            margin: 0;
        }

        .view-all-btn {
            padding: 12px 24px;
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 10px;
            color: #FFD700;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
            white-space: nowrap;
        }

        .view-all-btn:hover {
            background: rgba(255, 215, 0, 0.2);
            border-color: rgba(255, 215, 0, 0.5);
            transform: translateX(4px);
        }

        .algo-stats-feed {
            max-height: 600px;
            overflow-y: auto;
            padding-right: 12px;
        }

        .algo-stats-feed::-webkit-scrollbar {
            width: 8px;
        }

        .algo-stats-feed::-webkit-scrollbar-track {
            background: rgba(26, 26, 26, 0.4);
            border-radius: 4px;
        }

        .algo-stats-feed::-webkit-scrollbar-thumb {
            background: rgba(255, 215, 0, 0.3);
            border-radius: 4px;
        }

        .algo-stats-feed::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 215, 0, 0.5);
        }

        .loading-stats {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 60px 20px;
            color: rgba(255, 255, 255, 0.5);
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 215, 0, 0.2);
            border-top-color: #FFD700;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 16px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-stats p {
            font-size: 15px;
            margin: 0;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-container {
                padding: 16px 20px;
                flex-wrap: wrap;
            }

            .nav-menu {
                width: 100%;
                margin-top: 12px;
                overflow-x: auto;
            }

            .main-content {
                padding: 24px 20px;
            }

            .video-grid {
                grid-template-columns: 1fr;
            }

            .page-title {
                font-size: 36px;
            }

            .video-detail-title {
                font-size: 32px;
            }

            .support-button {
                bottom: 20px;
                right: 20px;
                padding: 14px 24px;
                font-size: 13px;
            }
        }

        /* Loading Animation */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(0, 0, 0, 0.2);
            border-top-color: var(--black);
            border-radius: 50%;
            animation: spin 0.6s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Login button loading state - NO animation, just pointer events */
        .login-button.loading {
            pointer-events: none;
        }

        /* Transition overlay - starts pitch black */
        .transition-overlay {
            position: fixed;
            inset: 0;
            z-index: 2000;
            background: #000000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.6s ease, visibility 0.6s ease;
            overflow: hidden;
        }

        .transition-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Multiple animated gradient layers */
        .gradient-layer {
            position: absolute;
            inset: 0;
            opacity: 0;
            filter: blur(80px);
        }

        .gradient-layer-1 {
            background: radial-gradient(circle at 30% 40%, rgba(255, 215, 0, 0.6), transparent 40%),
                        radial-gradient(circle at 70% 60%, rgba(255, 193, 7, 0.5), transparent 45%),
                        radial-gradient(circle at 50% 80%, rgba(255, 165, 0, 0.4), transparent 50%);
            animation: blobFloat1 8s ease-in-out infinite;
        }

        .gradient-layer-2 {
            background: radial-gradient(circle at 60% 30%, rgba(255, 165, 0, 0.7), transparent 35%),
                        radial-gradient(circle at 20% 70%, rgba(255, 215, 0, 0.5), transparent 40%),
                        radial-gradient(circle at 80% 50%, rgba(255, 193, 7, 0.6), transparent 45%);
            animation: blobFloat2 10s ease-in-out infinite 2s;
        }

        .gradient-layer-3 {
            background: radial-gradient(circle at 40% 60%, rgba(255, 215, 0, 0.5), transparent 50%),
                        radial-gradient(circle at 70% 30%, rgba(255, 193, 7, 0.4), transparent 40%);
            animation: blobFloat3 12s ease-in-out infinite 4s;
        }

        @keyframes blobFloat1 {
            0%, 100% {
                opacity: 0.4;
                transform: translate(0, 0) scale(1) rotate(0deg);
            }
            25% {
                opacity: 0.7;
                transform: translate(30px, -40px) scale(1.3) rotate(90deg);
            }
            50% {
                opacity: 0.9;
                transform: translate(-20px, 30px) scale(0.9) rotate(180deg);
            }
            75% {
                opacity: 0.6;
                transform: translate(40px, 20px) scale(1.1) rotate(270deg);
            }
        }

        @keyframes blobFloat2 {
            0%, 100% {
                opacity: 0.3;
                transform: translate(0, 0) scale(1.2) rotate(0deg);
            }
            33% {
                opacity: 0.8;
                transform: translate(-40px, 30px) scale(0.8) rotate(120deg);
            }
            66% {
                opacity: 0.5;
                transform: translate(30px, -30px) scale(1.4) rotate(240deg);
            }
        }

        @keyframes blobFloat3 {
            0%, 100% {
                opacity: 0.5;
                transform: translate(0, 0) scale(0.9) rotate(0deg);
            }
            50% {
                opacity: 0.9;
                transform: translate(20px, 40px) scale(1.5) rotate(180deg);
            }
        }

        /* Smooth liquid wave strobes */
        .strobe {
            position: absolute;
            width: 400%;
            height: 200%;
            top: -50%;
            left: -150%;
            opacity: 0;
            filter: blur(60px);
        }

        .strobe-1 {
            background: radial-gradient(ellipse at 50% 50%, 
                rgba(255, 215, 0, 0.8) 0%,
                rgba(255, 193, 7, 0.6) 20%,
                rgba(255, 165, 0, 0.4) 40%,
                transparent 60%);
        }

        .strobe-2 {
            background: radial-gradient(ellipse at 50% 50%, 
                rgba(255, 165, 0, 0.9) 0%,
                rgba(255, 215, 0, 0.7) 25%,
                rgba(255, 193, 7, 0.5) 50%,
                transparent 70%);
        }

        .strobe-3 {
            background: radial-gradient(ellipse at 50% 50%, 
                rgba(255, 215, 0, 1) 0%,
                rgba(255, 193, 7, 0.8) 15%,
                rgba(255, 165, 0, 0.6) 30%,
                transparent 50%);
        }

        .strobe.active {
            animation: liquidWave 3s ease-in-out;
        }

        @keyframes liquidWave {
            0% {
                left: -150%;
                opacity: 0;
                transform: scale(0.5) rotate(-30deg);
            }
            20% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
            50% {
                left: -50%;
                opacity: 1;
                transform: scale(1.5) rotate(15deg);
            }
            80% {
                opacity: 0.8;
                transform: scale(1.2) rotate(-10deg);
            }
            100% {
                left: 50%;
                opacity: 0;
                transform: scale(0.8) rotate(20deg);
            }
        }

        /* Enhanced animated dot pattern with wave */
        .transition-overlay::before {
            content: '';
            position: absolute;
            inset: -50%;
            background-image: radial-gradient(circle, rgba(255, 215, 0, 0.5) 2px, transparent 2px);
            background-size: 50px 50px;
            opacity: 0;
        }

        .transition-overlay.dots-active::before {
            animation: dotsWaveEnhanced 3s ease-in-out forwards;
        }

        @keyframes dotsWaveEnhanced {
            0% {
                opacity: 0;
                background-position: 0 0;
                transform: scale(0.8) rotate(0deg);
                filter: blur(0px);
            }
            20% {
                opacity: 0.4;
            }
            50% {
                opacity: 0.9;
                background-position: 100px 100px;
                transform: scale(1.5) rotate(45deg);
                filter: blur(1px);
            }
            100% {
                opacity: 1;
                background-position: 200px 200px;
                transform: scale(2) rotate(90deg);
                filter: blur(2px);
            }
        }

        /* Particle explosion system */
        .particle-system {
            position: absolute;
            inset: 0;
            opacity: 0;
        }

        .particle-system.active {
            opacity: 1;
        }

        .explosion-particle {
            position: absolute;
            width: 8px;
            height: 8px;
            background: radial-gradient(circle, rgba(255, 215, 0, 1), rgba(255, 193, 7, 0.8), rgba(255, 165, 0, 0));
            border-radius: 50%;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.9);
            pointer-events: none;
        }

        /* Smooth particle system */
        .particle-system {
            position: absolute;
            inset: 0;
            opacity: 0;
            filter: blur(2px);
        }

        .particle-system.active {
            opacity: 1;
        }

        /* Smooth expanding aura rings */
        .wave-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 200px;
            height: 200px;
            margin: -100px 0 0 -100px;
            border: 4px solid rgba(255, 215, 0, 0.4);
            border-radius: 50%;
            opacity: 0;
            filter: blur(3px);
        }

        .wave-ring.active {
            animation: auraExpand 3s ease-out;
        }

        @keyframes auraExpand {
            0% {
                transform: scale(0) rotate(0deg);
                opacity: 1;
                filter: blur(0px);
            }
            40% {
                opacity: 0.8;
                filter: blur(2px);
            }
            70% {
                opacity: 0.4;
                filter: blur(4px);
            }
            100% {
                transform: scale(20) rotate(180deg);
                opacity: 0;
                filter: blur(6px);
            }
        }

        /* Welcome text - organic fluid entrance */
        .welcome-text-container {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            perspective: 1500px;
        }

        .welcome-text-container.active {
            animation: containerFlow 3s ease-out forwards;
        }

        @keyframes containerFlow {
            0% {
                opacity: 0;
            }
            30% {
                opacity: 1;
            }
            100% {
                opacity: 1;
            }
        }

        .welcome-text-inner {
            font-size: 48px;
            font-weight: 800;
            background: linear-gradient(135deg, 
                #FFD700 0%, 
                #FFC107 15%, 
                #FFD700 30%, 
                #FFA500 50%, 
                #FFD700 70%,
                #FFC107 85%,
                #FFD700 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            background-size: 400% 400%;
            animation: liquidGradient 4s ease infinite;
            text-transform: uppercase;
            letter-spacing: 6px;
            text-align: center;
            line-height: 1.3;
            transform: translateX(150%) scale(0.3);
            filter: blur(20px);
            text-shadow: 0 0 60px rgba(255, 215, 0, 0.5);
        }

        .welcome-text-container.active .welcome-text-inner {
            animation: fluidTextEntrance 3s cubic-bezier(0.23, 1, 0.32, 1) forwards,
                       liquidGradient 4s ease infinite,
                       breatheGlow 3s ease-in-out infinite 3s;
        }

        @keyframes fluidTextEntrance {
            0% {
                transform: translateX(150%) scale(0.3) rotateY(90deg);
                opacity: 0;
                filter: blur(20px);
            }
            30% {
                transform: translateX(20%) scale(0.7) rotateY(20deg);
                opacity: 0.5;
                filter: blur(10px);
            }
            50% {
                transform: translateX(-5%) scale(1) rotateY(-5deg);
                opacity: 1;
                filter: blur(3px);
            }
            70% {
                transform: translateX(0) scale(1.2) rotateY(0deg);
                filter: blur(1px);
            }
            85% {
                transform: translateX(0) scale(1.4) rotateY(0deg);
                filter: blur(0px);
            }
            100% {
                transform: translateX(0) scale(1.5) rotateY(0deg);
                opacity: 1;
                filter: blur(0px);
            }
        }

        @keyframes liquidGradient {
            0%, 100% {
                background-position: 0% 50%;
            }
            25% {
                background-position: 50% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            75% {
                background-position: 50% 50%;
            }
        }

        @keyframes breatheGlow {
            0%, 100% {
                text-shadow: 0 0 40px rgba(255, 215, 0, 0.5),
                            0 0 80px rgba(255, 193, 7, 0.3);
            }
            50% {
                text-shadow: 0 0 80px rgba(255, 215, 0, 0.9),
                            0 0 120px rgba(255, 193, 7, 0.6),
                            0 0 160px rgba(255, 165, 0, 0.4);
            }
        }

        /* Soft ambient light rays */
        .light-ray {
            position: absolute;
            width: 3px;
            height: 100%;
            background: linear-gradient(to bottom, 
                transparent 0%, 
                rgba(255, 215, 0, 0.3) 20%,
                rgba(255, 193, 7, 0.5) 50%,
                rgba(255, 165, 0, 0.3) 80%,
                transparent 100%);
            top: 0;
            opacity: 0;
            transform-origin: top center;
            filter: blur(5px);
        }

        .light-ray.active {
            animation: softRayGlow 3s ease-in-out;
        }

        @keyframes softRayGlow {
            0% {
                opacity: 0;
                transform: translateX(-20px) scaleY(0) rotate(-10deg);
                filter: blur(10px);
            }
            30% {
                opacity: 0.6;
                filter: blur(5px);
            }
            50% {
                opacity: 1;
                transform: translateX(0) scaleY(1) rotate(0deg);
                filter: blur(3px);
            }
            70% {
                opacity: 0.7;
                filter: blur(4px);
            }
            100% {
                opacity: 0;
                transform: translateX(20px) scaleY(0) rotate(10deg);
                filter: blur(8px);
            }
        }

        /* CIRCUIT BOARD INTRO STYLES */
        
        /* Circuit board container */
        .circuit-board-container {
            position: absolute;
            inset: 0;
            opacity: 0;
            background: radial-gradient(ellipse at center, rgba(10, 10, 10, 1), rgba(0, 0, 0, 1));
        }

        .circuit-board-container.active {
            opacity: 1;
        }

        /* Circuit lines/traces */
        .circuit-line {
            position: absolute;
            background: linear-gradient(90deg, transparent, rgba(255, 215, 0, 0.8), transparent);
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.6),
                        0 0 20px rgba(255, 215, 0, 0.4);
            transform-origin: left center;
            opacity: 0;
        }

        .circuit-line-horizontal {
            height: 2px;
            width: 0;
        }

        .circuit-line-vertical {
            width: 2px;
            height: 0;
        }

        .circuit-line.active {
            animation: traceLine 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        @keyframes traceLine {
            0% {
                opacity: 0;
            }
            20% {
                opacity: 1;
            }
            100% {
                opacity: 1;
            }
        }

        /* Circuit nodes/connection points */
        .circuit-node {
            position: absolute;
            width: 12px;
            height: 12px;
            background: radial-gradient(circle, rgba(255, 215, 0, 1), rgba(255, 193, 7, 0.6));
            border: 2px solid rgba(255, 215, 0, 0.4);
            border-radius: 50%;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.8),
                        0 0 30px rgba(255, 215, 0, 0.4);
            transform: translate(-50%, -50%) scale(0);
            opacity: 0;
        }

        .circuit-node.active {
            animation: nodeActivate 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }

        @keyframes nodeActivate {
            0% {
                transform: translate(-50%, -50%) scale(0);
                opacity: 0;
            }
            50% {
                transform: translate(-50%, -50%) scale(1.5);
                opacity: 1;
            }
            100% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
        }

        /* Data pulses traveling along circuits */
        .data-pulse {
            position: absolute;
            width: 8px;
            height: 8px;
            background: radial-gradient(circle, rgba(255, 255, 255, 1), rgba(255, 215, 0, 0.8));
            border-radius: 50%;
            box-shadow: 0 0 15px rgba(255, 215, 0, 1),
                        0 0 30px rgba(255, 215, 0, 0.6);
            opacity: 0;
        }

        .data-pulse.active {
            animation: pulseTravelHorizontal 1.5s ease-in-out forwards;
        }

        .data-pulse.vertical {
            animation: pulseTravelVertical 1.5s ease-in-out forwards;
        }

        @keyframes pulseTravelHorizontal {
            0% {
                opacity: 0;
                transform: translateX(0);
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                opacity: 0;
                transform: translateX(var(--distance));
            }
        }

        @keyframes pulseTravelVertical {
            0% {
                opacity: 0;
                transform: translateY(0);
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                opacity: 0;
                transform: translateY(var(--distance));
            }
        }

        /* Microchip components */
        .circuit-chip {
            position: absolute;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, rgba(26, 26, 26, 0.9), rgba(10, 10, 10, 0.9));
            border: 2px solid rgba(255, 215, 0, 0.6);
            border-radius: 4px;
            transform: translate(-50%, -50%) scale(0);
            opacity: 0;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.4),
                        inset 0 0 10px rgba(255, 215, 0, 0.2);
        }

        .circuit-chip::before {
            content: '';
            position: absolute;
            inset: 4px;
            background: linear-gradient(45deg, 
                transparent 30%, 
                rgba(255, 215, 0, 0.1) 50%, 
                transparent 70%);
            animation: chipScan 2s linear infinite;
        }

        @keyframes chipScan {
            0% {
                transform: translateX(-100%);
            }
            100% {
                transform: translateX(100%);
            }
        }

        .circuit-chip.active {
            animation: chipActivate 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }

        @keyframes chipActivate {
            0% {
                transform: translate(-50%, -50%) scale(0) rotate(0deg);
                opacity: 0;
            }
            60% {
                transform: translate(-50%, -50%) scale(1.2) rotate(180deg);
            }
            100% {
                transform: translate(-50%, -50%) scale(1) rotate(360deg);
                opacity: 1;
            }
        }

        /* Power surge effect */
        .power-surge {
            position: absolute;
            inset: 0;
            background: radial-gradient(ellipse at center, 
                rgba(255, 215, 0, 0.3), 
                transparent 60%);
            opacity: 0;
        }

        .power-surge.active {
            animation: surgePulse 1s ease-out forwards;
        }

        @keyframes surgePulse {
            0% {
                opacity: 0;
                transform: scale(0.5);
            }
            50% {
                opacity: 1;
                transform: scale(1.2);
            }
            100% {
                opacity: 0;
                transform: scale(2);
            }
        }

        /* Central processor core */
        .processor-core {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 140px;
            height: 140px;
            transform: translate(-50%, -50%) scale(0);
            opacity: 0;
            z-index: 100;
        }

        .processor-core.active {
            animation: coreActivateDramatic 1.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }

        .processor-core.radiate {
            animation: gentleRadiance 2s ease-in-out infinite;
        }

        @keyframes coreActivateDramatic {
            0% {
                transform: translate(-50%, -50%) scale(0) rotate(0deg);
                opacity: 0;
            }
            50% {
                transform: translate(-50%, -50%) scale(1.4) rotate(180deg);
                opacity: 1;
            }
            70% {
                transform: translate(-50%, -50%) scale(0.95) rotate(360deg);
            }
            100% {
                transform: translate(-50%, -50%) scale(1) rotate(360deg);
                opacity: 1;
            }
        }

        @keyframes gentleRadiance {
            0%, 100% {
                filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.4))
                        drop-shadow(0 0 40px rgba(255, 215, 0, 0.3))
                        drop-shadow(0 0 60px rgba(255, 215, 0, 0.2));
            }
            50% {
                filter: drop-shadow(0 0 40px rgba(255, 215, 0, 0.8))
                        drop-shadow(0 0 80px rgba(255, 215, 0, 0.6))
                        drop-shadow(0 0 120px rgba(255, 215, 0, 0.4))
                        drop-shadow(0 0 160px rgba(255, 193, 7, 0.3));
            }
        }

        .processor-core-inner {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(26, 26, 26, 1), rgba(10, 10, 10, 1));
            border: 4px solid rgba(255, 215, 0, 1);
            border-radius: 12px;
            position: relative;
            box-shadow: 0 0 60px rgba(255, 215, 0, 1),
                        0 0 100px rgba(255, 215, 0, 0.6),
                        inset 0 0 30px rgba(255, 215, 0, 0.4);
        }

        .processor-core-inner::before {
            content: 'PI';
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 56px;
            font-weight: 900;
            background: linear-gradient(135deg, #FFD700, #FFC107, #FFD700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% 200%;
            animation: corePulseDramatic 2s ease-in-out infinite,
                       gradientShift 3s ease infinite;
        }

        @keyframes corePulseDramatic {
            0%, 100% {
                text-shadow: 0 0 30px rgba(255, 215, 0, 0.8),
                            0 0 60px rgba(255, 215, 0, 0.6);
                transform: scale(1);
            }
            50% {
                text-shadow: 0 0 50px rgba(255, 215, 0, 1),
                            0 0 100px rgba(255, 193, 7, 1),
                            0 0 150px rgba(255, 165, 0, 0.8);
                transform: scale(1.05);
            }
        }

        @keyframes gradientShift {
            0%, 100% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
        }

        /* Circuit board grid background */
        .circuit-grid {
            position: absolute;
            inset: 0;
            background-image: 
                linear-gradient(rgba(255, 215, 0, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 215, 0, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            opacity: 0;
        }

        .circuit-grid.active {
            animation: gridFadeIn 1s ease-out forwards;
        }

        @keyframes gridFadeIn {
            0% {
                opacity: 0;
            }
            100% {
                opacity: 0.4;
            }
        }

        /* Black screen transition */
        .black-screen {
            position: absolute;
            inset: 0;
            background: #000000;
            opacity: 0;
            z-index: 5;
        }

        .black-screen.active {
            animation: blackScreenFade 0.5s ease-in-out forwards;
        }

        @keyframes blackScreenFade {
            0% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }

        /* Welcome screen */
        .welcome-screen {
            position: absolute;
            inset: 0;
            background: #000000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            z-index: 15;
        }

        .welcome-screen.active {
            animation: welcomeScreenFadeInOut 3s ease-in-out forwards;
        }

        @keyframes welcomeScreenFadeInOut {
            0% {
                opacity: 0;
            }
            15% {
                opacity: 1;
            }
            85% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }

        .welcome-text {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            font-size: 56px;
            font-weight: 600;
            letter-spacing: 3px;
            text-align: center;
            line-height: 1.5;
            background: linear-gradient(
                90deg,
                #FFFFFF 0%,
                #FFD700 15%,
                #FFC107 30%,
                #FFD700 45%,
                #FFFFFF 60%,
                #FFD700 75%,
                #FFC107 90%,
                #FFFFFF 100%
            );
            background-size: 200% 100%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            opacity: 0;
            will-change: opacity, background-position;
            animation: welcomeTextAppear 3s ease-in-out forwards,
                       flowingGradient 4s linear infinite;
        }

        @keyframes welcomeTextAppear {
            0% {
                opacity: 0;
            }
            15% {
                opacity: 1;
            }
            85% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }

        @keyframes flowingGradient {
            0% {
                background-position: 0% center;
            }
            100% {
                background-position: 200% center;
            }
        }

        /* Welcome text - ultra smooth with flowing gradient */
        .welcome-text-container {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            z-index: 10;
        }

        .welcome-text-container.active {
            animation: containerSmoothFade 5s ease-in-out forwards;
        }

        @keyframes containerSmoothFade {
            0% {
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }

        .welcome-text-inner {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            font-size: 56px;
            font-weight: 600;
            letter-spacing: 3px;
            text-align: center;
            line-height: 1.5;
            background: linear-gradient(
                90deg,
                #FFFFFF 0%,
                #FFD700 15%,
                #FFC107 30%,
                #FFD700 45%,
                #FFFFFF 60%,
                #FFD700 75%,
                #FFC107 90%,
                #FFFFFF 100%
            );
            background-size: 200% 100%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            opacity: 0;
            will-change: opacity, background-position;
        }

        .welcome-text-inner.dramatic-glow {
            animation: simpleFadeInOut 5s ease-in-out forwards,
                       flowingGradient 4s linear infinite;
        }

        @keyframes simpleFadeInOut {
            0% {
                opacity: 0;
            }
            15% {
                opacity: 1;
            }
            85% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }

        @keyframes flowingGradient {
            0% {
                background-position: 0% center;
            }
            100% {
                background-position: 200% center;
            }
        }

        /* Hide old animation elements */
        .matrix-rain-container,
        .particle-storm-container,
        .matrix-column,
        .storm-particle,
        .scan-line {
            display: none;
        }

        /* ADMIN PAGE STYLES */
        .admin-page {
            display: none;
            position: fixed;
            inset: 0;
            min-height: 100vh;
            background: #0a0a0a;
            padding: 0;
            z-index: 3000;
            overflow-y: auto;
        }

        .admin-page.visible {
            display: block;
        }

        .admin-header {
            background: rgba(26, 26, 26, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 2px solid rgba(255, 215, 0, 0.3);
            padding: 24px 48px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .admin-logo {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .pi-icon-admin {
            width: 60px;
            height: 60px;
            background: #000000;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
            padding: 10px;
            border: 2px solid rgba(255, 215, 0, 0.3);
        }

        .pi-icon-admin img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .admin-logo h1 {
            font-size: 32px;
            font-weight: 700;
            background: linear-gradient(135deg, #FFD700, #FFC107);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 0;
        }

        .admin-logout {
            padding: 12px 32px;
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            color: #FFD700;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .admin-logout:hover {
            background: rgba(255, 215, 0, 0.2);
            border-color: rgba(255, 215, 0, 0.6);
            transform: translateY(-2px);
        }

        .admin-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 48px;
        }

        .admin-welcome {
            margin-bottom: 48px;
        }

        .admin-welcome h2 {
            font-size: 36px;
            font-weight: 700;
            color: #FFFFFF;
            margin: 0 0 12px 0;
        }

        .admin-welcome p {
            font-size: 18px;
            color: rgba(255, 255, 255, 0.6);
            margin: 0;
        }

        .admin-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 24px;
            margin-bottom: 48px;
        }

        .admin-card {
            background: rgba(26, 26, 26, 0.8);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 16px;
            padding: 32px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .admin-card:hover {
            border-color: rgba(255, 215, 0, 0.5);
            transform: translateY(-4px);
            box-shadow: 0 8px 32px rgba(255, 215, 0, 0.2);
        }

        .admin-card-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }

        .admin-card h3 {
            font-size: 24px;
            font-weight: 700;
            color: #FFD700;
            margin: 0 0 8px 0;
        }

        .admin-card p {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.6);
            margin: 0 0 16px 0;
        }

        .admin-stat {
            font-size: 20px;
            font-weight: 700;
            color: #FFFFFF;
            padding: 12px;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 8px;
            text-align: center;
        }

        .admin-actions {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
        }

        .admin-btn {
            padding: 16px 32px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .admin-btn-primary {
            background: linear-gradient(135deg, #FFD700, #FFC107);
            color: #000;
            box-shadow: 0 4px 16px rgba(255, 215, 0, 0.3);
        }

        .admin-btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 24px rgba(255, 215, 0, 0.5);
        }

        .admin-btn-secondary {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.3);
            color: #FFD700;
        }

        .admin-btn-secondary:hover {
            background: rgba(255, 215, 0, 0.2);
            border-color: rgba(255, 215, 0, 0.6);
            transform: translateY(-2px);
        }

        /* ANNOUNCEMENTS PAGE STYLES */
        /* ========================================
           SLACK-STYLE ANNOUNCEMENTS LAYOUT
           ======================================== */
        
        /* Make announcements page full height with no padding - breaks out of main-content */
        #announcements {
            position: fixed;
            top: 81px; /* Height of nav bar */
            left: 0;
            right: 0;
            bottom: 0;
            padding: 20px 0 0 0 !important; /* Add padding at top only */
            margin: 0 !important;
            max-width: none !important;
            overflow: hidden;
            z-index: 1;
        }
        
        .slack-container {
            display: flex;
            height: calc(100% - 20px); /* Account for top padding */
            width: 100%;
            background: rgba(10, 10, 10, 0.95);
            overflow: hidden;
            border: none;
            border-radius: 0;
        }

        /* Left Sidebar */
        .slack-sidebar {
            width: 260px;
            background: rgba(15, 15, 15, 0.98);
            border-right: 1px solid rgba(255, 215, 0, 0.15);
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
        }

        .slack-workspace-header {
            padding: 20px 16px;
            border-bottom: 1px solid rgba(255, 215, 0, 0.1);
        }

        .slack-workspace-header h3 {
            margin: 0 0 8px 0;
            font-size: 18px;
            font-weight: 700;
            color: #FFFFFF;
        }

        .workspace-status {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            color: rgba(255, 255, 255, 0.5);
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: #10b981;
            border-radius: 50%;
        }

        .status-dot.blinking {
            animation: blink-green 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .slack-channels-section {
            padding: 16px 0;
            flex: 1;
            overflow-y: auto;
        }

        .channels-header {
            padding: 8px 16px;
            font-size: 13px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
        }

        .slack-channel-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 16px;
            width: 100%;
            background: transparent;
            border: none;
            border-left: 3px solid transparent;
            color: rgba(255, 255, 255, 0.7);
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
            font-family: inherit;
        }

        .slack-channel-item:hover {
            background: rgba(255, 215, 0, 0.08);
            color: rgba(255, 255, 255, 0.95);
        }

        .slack-channel-item.active {
            background: rgba(255, 215, 0, 0.15);
            border-left-color: #FFD700;
            color: #FFFFFF;
        }

        .slack-channel-item.active .channel-hash {
            color: #FFD700;
        }

        .channel-hash {
            font-size: 16px;
            font-weight: 700;
            color: rgba(255, 255, 255, 0.4);
            transition: color 0.2s ease;
        }

        .channel-name {
            flex: 1;
        }

        /* Main Content Area */
        .slack-main {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: rgba(18, 18, 18, 0.95);
        }

        .slack-channel-header {
            padding: 16px 24px;
            border-bottom: 1px solid rgba(255, 215, 0, 0.1);
            background: rgba(15, 15, 15, 0.8);
        }

        .channel-header-left {
            margin-bottom: 4px;
        }

        .channel-title {
            display: flex;
            align-items: center;
            gap: 6px;
            margin: 0;
            font-size: 18px;
            font-weight: 700;
            color: #FFFFFF;
        }

        .channel-title .channel-hash {
            font-size: 20px;
            color: #FFD700;
        }

        .channel-header-desc {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.5);
            padding-left: 26px;
        }

        /* Messages */
        .slack-messages-wrapper {
            flex: 1;
            overflow-y: auto;
            padding: 24px;
        }

        .slack-messages-wrapper::-webkit-scrollbar {
            width: 8px;
        }

        .slack-messages-wrapper::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
        }

        .slack-messages-wrapper::-webkit-scrollbar-thumb {
            background: rgba(255, 215, 0, 0.2);
            border-radius: 4px;
        }

        .slack-messages-wrapper::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 215, 0, 0.4);
        }

        .slack-messages-container {
            max-width: 100%;
        }

        .message {
            display: flex;
            gap: 12px;
            padding: 12px 16px;
            margin-bottom: 4px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.03);
            transition: all 0.15s ease;
        }

        .message:hover {
            background: rgba(255, 215, 0, 0.05);
            border-color: rgba(255, 215, 0, 0.1);
        }

        .message:last-child {
            margin-bottom: 0;
        }

        .message-avatar {
            flex-shrink: 0;
        }

        .avatar-icon {
            width: 36px;
            height: 36px;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 6px rgba(255, 215, 0, 0.2);
            padding: 6px;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .avatar-icon img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .avatar-icon-emoji {
            width: 36px;
            height: 36px;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 6px rgba(255, 215, 0, 0.2);
            border: 1px solid rgba(255, 215, 0, 0.3);
            font-size: 24px;
            line-height: 1;
        }

        /* Read-Only Input Notice */
        .slack-input-disabled {
            padding: 20px 24px;
            background: rgba(15, 15, 15, 0.8);
            border-top: 1px solid rgba(255, 215, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            color: rgba(255, 255, 255, 0.5);
            font-size: 14px;
        }

        .disabled-icon {
            font-size: 18px;
        }

        .message-content {
            flex: 1;
        }

        .message-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
            flex-wrap: wrap;
        }

        .message-author {
            font-size: 16px;
            font-weight: 700;
            color: #FFFFFF;
        }

        .message-badge {
            padding: 4px 10px;
            background: rgba(255, 215, 0, 0.2);
            border: 1px solid rgba(255, 215, 0, 0.4);
            border-radius: 6px;
            font-size: 11px;
            font-weight: 700;
            color: #FFD700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .message-timestamp {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.4);
        }

        .message-body {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            margin-bottom: 12px;
        }

        .message-body p {
            margin: 0 0 12px 0;
        }

        .message-body p:last-child {
            margin-bottom: 0;
        }

        .message-body strong {
            color: #FFD700;
            font-weight: 700;
        }

        /* Message Image Styles */
        .message-image-container {
            margin-top: 12px;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid rgba(255, 215, 0, 0.2);
            max-width: 500px;
        }

        .message-image {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .message-image:hover {
            transform: scale(1.02);
        }

        .message-body ul {
            margin: 12px 0;
            padding-left: 24px;
        }

        .message-body li {
            margin: 8px 0;
            color: rgba(255, 255, 255, 0.8);
        }

        .message-attachment {
            display: flex;
            gap: 16px;
            align-items: center;
            padding: 16px;
            background: rgba(255, 215, 0, 0.05);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
            margin-top: 12px;
            transition: all 0.3s ease;
        }

        .message-attachment:hover {
            background: rgba(255, 215, 0, 0.1);
            border-color: rgba(255, 215, 0, 0.4);
        }

        .attachment-icon {
            font-size: 32px;
        }

        .attachment-info {
            flex: 1;
        }

        .attachment-title {
            font-size: 15px;
            font-weight: 600;
            color: #FFFFFF;
            margin-bottom: 4px;
        }

        .attachment-subtitle {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.5);
        }

        .message-reactions {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .reaction {
            padding: 6px 12px;
            background: rgba(255, 215, 0, 0.08);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 20px;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .reaction:hover {
            background: rgba(255, 215, 0, 0.15);
            border-color: rgba(255, 215, 0, 0.4);
            transform: translateY(-2px);
        }

        /* Admin delete button for announcements */
        .message-delete-btn {
            margin-left: auto;
            padding: 8px 16px;
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 8px;
            color: #ef4444;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .message-delete-btn:hover {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.5);
            transform: scale(1.05);
        }

        .message-actions {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-top: 12px;
        }

        @media (max-width: 768px) {
            .channel-header {
                padding: 20px;
            }

            .messages-container {
                padding: 20px;
            }

            .message {
                gap: 12px;
            }

            .avatar-icon {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }

            .message-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 6px;
            }
        }

        /* ADMIN ANNOUNCEMENTS MANAGEMENT */
        .admin-announcements-section {
            display: none;
            max-width: 1400px;
            margin: 0 auto;
            padding: 48px;
        }

        .admin-announcements-section.active {
            display: block;
        }

        .admin-announcements-header {
            margin-bottom: 32px;
        }

        .admin-back-btn {
            padding: 12px 24px;
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            color: #FFD700;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }

        .admin-back-btn:hover {
            background: rgba(255, 215, 0, 0.2);
            transform: translateX(-4px);
        }

        .admin-announcements-header h2 {
            font-size: 36px;
            font-weight: 700;
            color: #FFFFFF;
            margin: 0;
        }

        .admin-announcements-content {
            display: grid;
            grid-template-columns: 1.5fr 1fr;
            gap: 32px;
        }

        .send-announcement-card,
        .recent-announcements-card {
            background: rgba(26, 26, 26, 0.8);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 16px;
            padding: 32px;
        }

        .send-announcement-card h3,
        .recent-announcements-card h3 {
            font-size: 24px;
            font-weight: 700;
            color: #FFD700;
            margin: 0 0 24px 0;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-group label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 8px;
        }

        .form-input,
        .form-textarea,
        .form-select {
            width: 100%;
            padding: 14px 16px;
            background: rgba(10, 10, 10, 0.6);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 8px;
            color: #FFFFFF;
            font-size: 15px;
            font-family: inherit;
            transition: all 0.3s ease;
        }

        .form-input:focus,
        .form-textarea:focus,
        .form-select:focus {
            outline: none;
            border-color: rgba(255, 215, 0, 0.5);
            background: rgba(10, 10, 10, 0.8);
        }

        .form-textarea {
            resize: vertical;
            min-height: 120px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .recent-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .recent-list::-webkit-scrollbar {
            width: 6px;
        }

        .recent-list::-webkit-scrollbar-track {
            background: rgba(255, 215, 0, 0.05);
            border-radius: 3px;
        }

        .recent-list::-webkit-scrollbar-thumb {
            background: rgba(255, 215, 0, 0.3);
            border-radius: 3px;
        }

        .recent-item {
            display: flex;
            gap: 16px;
            padding: 16px;
            background: rgba(255, 215, 0, 0.05);
            border: 1px solid rgba(255, 215, 0, 0.15);
            border-radius: 12px;
            margin-bottom: 12px;
            transition: all 0.3s ease;
        }

        .recent-item:hover {
            background: rgba(255, 215, 0, 0.1);
            border-color: rgba(255, 215, 0, 0.3);
        }

        .recent-icon {
            font-size: 28px;
            flex-shrink: 0;
        }

        .recent-content {
            flex: 1;
        }

        .recent-title {
            font-size: 16px;
            font-weight: 600;
            color: #FFFFFF;
            margin-bottom: 4px;
        }

        .recent-time {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.5);
        }

        @media (max-width: 1024px) {
            .admin-announcements-content {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .admin-header {
                flex-direction: column;
                gap: 20px;
                padding: 24px;
            }

            .admin-content {
                padding: 24px;
            }

            .admin-grid {
                grid-template-columns: 1fr;
            }
        }

        /* USER MANAGEMENT SECTION STYLES */
        .admin-user-management-section {
            display: none;
            max-width: 1400px;
            margin: 0 auto;
            padding: 48px;
        }

        .admin-user-management-section.active {
            display: block;
        }

        /* Override for user management section */
        .admin-user-management-section .admin-announcements-content {
            display: block;
        }

        .user-management-grid {
            display: grid;
            grid-template-columns: 180px 1.5fr 1fr;
            gap: 24px;
        }

        .user-stats-grid {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .user-stat-card {
            background: rgba(26, 26, 26, 0.8);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
            padding: 16px;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .user-stat-card:hover {
            border-color: rgba(255, 215, 0, 0.5);
            transform: translateX(4px);
        }

        .user-stat-label {
            font-size: 11px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.6);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .user-stat-value {
            font-size: 32px;
            font-weight: 700;
            background: linear-gradient(135deg, #FFD700, #FFC107);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1;
        }

        .user-management-list {
            max-height: 600px;
            overflow-y: auto;
        }

        .user-management-list::-webkit-scrollbar {
            width: 6px;
        }

        .user-management-list::-webkit-scrollbar-track {
            background: rgba(255, 215, 0, 0.05);
            border-radius: 3px;
        }

        .user-management-list::-webkit-scrollbar-thumb {
            background: rgba(255, 215, 0, 0.3);
            border-radius: 3px;
        }

        .user-item {
            background: rgba(10, 10, 10, 0.6);
            border: 1px solid rgba(255, 215, 0, 0.15);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            transition: all 0.3s ease;
        }

        .user-item:hover {
            border-color: rgba(255, 215, 0, 0.4);
            background: rgba(26, 26, 26, 0.6);
            transform: translateX(4px);
        }

        .user-item-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 12px;
        }

        .user-item-info h4 {
            font-size: 18px;
            font-weight: 600;
            color: #FFFFFF;
            margin: 0 0 4px 0;
        }

        .user-item-info p {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.6);
            margin: 0;
        }

        .user-item-badges {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid rgba(255, 215, 0, 0.1);
        }

        .user-badge {
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .user-badge.role {
            background: rgba(255, 215, 0, 0.15);
            border: 1px solid rgba(255, 215, 0, 0.3);
            color: #FFD700;
        }

        .user-badge.status-active {
            background: rgba(16, 185, 129, 0.2);
            border: 1px solid rgba(16, 185, 129, 0.4);
            color: #10b981;
        }

        .user-badge.status-inactive {
            background: rgba(136, 136, 136, 0.2);
            border: 1px solid rgba(136, 136, 136, 0.4);
            color: #888888;
        }

        .user-meta-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-top: 12px;
        }

        .user-meta-item {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .user-meta-label {
            font-size: 11px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .user-meta-value {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 500;
        }

        .user-actions {
            display: flex;
            gap: 8px;
        }

        .user-action-btn {
            padding: 8px 12px;
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 6px;
            color: #FFD700;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .user-action-btn:hover {
            background: rgba(255, 215, 0, 0.2);
            border-color: rgba(255, 215, 0, 0.4);
            transform: scale(1.05);
        }

        .user-action-btn.danger {
            background: rgba(239, 68, 68, 0.1);
            border-color: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }

        .user-action-btn.danger:hover {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.4);
        }

        @media (max-width: 1024px) {
            .user-management-grid {
                grid-template-columns: 1fr;
            }
            
            .user-stats-grid {
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .user-stat-card {
                flex: 1;
                min-width: 150px;
            }
        }

        @media (max-width: 640px) {
            .user-stats-grid {
                flex-direction: column;
            }
            
            .user-stat-card {
                width: 100%;
            }
        }
        /* ========================================
           ADMIN PROFILE MANAGER
           ======================================== */
        
        .admin-profile-card {
            background: rgba(26, 26, 26, 0.6);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .admin-profile-card h3 {
            margin: 0 0 20px 0;
            font-size: 18px;
            font-weight: 700;
            color: #FFD700;
        }

        .current-profile-display {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px;
            background: rgba(255, 215, 0, 0.05);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
        }

        .profile-avatar {
            width: 56px;
            height: 56px;
            border-radius: 8px;
            overflow: hidden;
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.3);
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .profile-avatar img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .profile-icon-display {
            font-size: 32px;
            line-height: 1;
        }

        .profile-item-avatar {
            width: 48px;
            height: 48px;
            border-radius: 8px;
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.3);
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .profile-item-avatar .profile-icon-display {
            font-size: 28px;
        }

        .profile-info {
            flex: 1;
        }

        .profile-name {
            font-size: 16px;
            font-weight: 700;
            color: #FFFFFF;
            margin-bottom: 4px;
        }

        .profile-role {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.5);
        }

        .profile-manage-btn {
            padding: 10px 20px;
            background: rgba(255, 215, 0, 0.15);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            color: #FFD700;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .profile-manage-btn:hover {
            background: rgba(255, 215, 0, 0.25);
            border-color: rgba(255, 215, 0, 0.5);
            transform: translateY(-2px);
        }

        /* Profile Modal */
        .profile-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            z-index: 10000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .profile-modal.active {
            display: flex;
        }

        .profile-modal-content {
            background: rgba(18, 18, 18, 0.98);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 16px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .profile-modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 24px;
            border-bottom: 2px solid rgba(255, 215, 0, 0.2);
            position: sticky;
            top: 0;
            background: rgba(18, 18, 18, 0.98);
            z-index: 10;
        }

        .profile-modal-header h2 {
            margin: 0;
            font-size: 24px;
            font-weight: 700;
            color: #FFD700;
        }

        .profile-modal-close {
            width: 40px;
            height: 40px;
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            color: #FFD700;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .profile-modal-close:hover {
            background: rgba(255, 215, 0, 0.2);
            transform: rotate(90deg);
        }

        .profile-modal-body {
            padding: 24px;
        }

        .profiles-list {
            display: grid;
            gap: 12px;
            margin-bottom: 32px;
        }

        .profile-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px;
            background: rgba(26, 26, 26, 0.6);
            border: 2px solid rgba(255, 215, 0, 0.15);
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .profile-item:hover {
            background: rgba(26, 26, 26, 0.8);
            border-color: rgba(255, 215, 0, 0.3);
        }

        .profile-item.selected {
            background: rgba(255, 215, 0, 0.15);
            border-color: rgba(255, 215, 0, 0.5);
        }

        .profile-item-avatar {
            width: 48px;
            height: 48px;
            border-radius: 8px;
            overflow: hidden;
            background: #000000;
            border: 2px solid rgba(255, 215, 0, 0.3);
            flex-shrink: 0;
            padding: 6px;
        }

        .profile-item-avatar img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .profile-item-info {
            flex: 1;
        }

        .profile-item-name {
            font-size: 16px;
            font-weight: 600;
            color: #FFFFFF;
            margin-bottom: 4px;
        }

        .profile-item-meta {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.5);
        }

        .profile-item-actions {
            display: flex;
            gap: 8px;
        }

        .profile-select-btn, .profile-delete-btn {
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .profile-select-btn {
            background: rgba(255, 215, 0, 0.15);
            border: 2px solid rgba(255, 215, 0, 0.3);
            color: #FFD700;
        }

        .profile-select-btn:hover {
            background: rgba(255, 215, 0, 0.25);
            transform: translateY(-2px);
        }

        .profile-delete-btn {
            background: rgba(239, 68, 68, 0.1);
            border: 2px solid rgba(239, 68, 68, 0.3);
            color: #ef4444;
        }

        .profile-delete-btn:hover {
            background: rgba(239, 68, 68, 0.2);
            transform: translateY(-2px);
        }

        .create-profile-section {
            padding: 24px;
            background: rgba(255, 215, 0, 0.05);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
        }

        .create-profile-section h3 {
            margin: 0 0 20px 0;
            font-size: 18px;
            font-weight: 700;
            color: #FFD700;
        }

        /* ========================================
           LINK PREVIEW CARDS
           ======================================== */
        
        .link-preview {
            margin-top: 12px;
            max-width: 600px;
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-left: 4px solid rgba(255, 215, 0, 0.5);
            border-radius: 8px;
            overflow: hidden;
            background: rgba(26, 26, 26, 0.6);
            transition: all 0.3s ease;
        }

        .link-preview:hover {
            background: rgba(26, 26, 26, 0.8);
            border-color: rgba(255, 215, 0, 0.3);
            border-left-color: rgba(255, 215, 0, 0.7);
        }

        .link-preview-content {
            padding: 16px;
        }

        .link-preview-image {
            width: 100%;
            height: auto;
            max-height: 250px;
            object-fit: cover;
            display: block;
        }

        .link-preview-title {
            font-size: 14px;
            font-weight: 700;
            color: #FFD700;
            margin-bottom: 8px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .link-preview-description {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 8px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            line-height: 1.4;
        }

        .link-preview-url {
            font-size: 15px;
            font-weight: 600;
            color: #60a5fa;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s ease;
        }

        .link-preview-url:hover {
            color: #93c5fd;
            text-decoration: underline;
        }

        .link-preview-favicon {
            width: 16px;
            height: 16px;
            border-radius: 3px;
        }

        /* ========================================
           ICON PICKER
           ======================================== */
        
        .icon-picker-display {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px;
            background: rgba(26, 26, 26, 0.6);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .icon-picker-display:hover {
            background: rgba(26, 26, 26, 0.8);
            border-color: rgba(255, 215, 0, 0.4);
            transform: translateY(-2px);
        }

        .selected-icon-preview {
            width: 56px;
            height: 56px;
            background: rgba(255, 215, 0, 0.15);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            flex-shrink: 0;
        }

        .icon-picker-label {
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
        }

        .icon-picker-dropdown {
            margin-top: 12px;
            background: rgba(26, 26, 26, 0.9);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
            padding: 16px;
        }

        .icon-picker-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }

        .icon-tab {
            flex: 1;
            padding: 10px 16px;
            background: rgba(26, 26, 26, 0.6);
            border: 2px solid rgba(255, 215, 0, 0.15);
            border-radius: 8px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .icon-tab:hover {
            background: rgba(26, 26, 26, 0.8);
            border-color: rgba(255, 215, 0, 0.3);
        }

        .icon-tab.active {
            background: rgba(255, 215, 0, 0.15);
            border-color: rgba(255, 215, 0, 0.5);
            color: #FFD700;
        }

        .icon-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 8px;
        }

        .icon-option {
            width: 100%;
            aspect-ratio: 1;
            padding: 12px;
            background: rgba(26, 26, 26, 0.6);
            border: 2px solid rgba(255, 215, 0, 0.15);
            border-radius: 8px;
            font-size: 28px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .icon-option:hover {
            background: rgba(255, 215, 0, 0.15);
            border-color: rgba(255, 215, 0, 0.5);
            transform: scale(1.1);
        }

        .icon-option.selected {
            background: rgba(255, 215, 0, 0.2);
            border-color: rgba(255, 215, 0, 0.7);
        }

        /* ========================================
           PREFERENCES MODAL STYLES
           ======================================== */
        
        .preference-section {
            padding: 20px;
            background: rgba(26, 26, 26, 0.5);
            border: 1px solid rgba(255, 215, 0, 0.15);
            border-radius: 12px;
        }

        .preference-item {
            margin-bottom: 16px;
        }

        .preference-label {
            margin-bottom: 12px;
        }

        .preference-label strong {
            color: #FFFFFF;
            font-size: 15px;
        }

        /* Theme Toggle */
        .theme-toggle {
            display: flex;
            gap: 12px;
        }

        .theme-option {
            flex: 1;
            padding: 12px 20px;
            background: rgba(26, 26, 26, 0.6);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 10px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .theme-option:hover {
            background: rgba(255, 215, 0, 0.1);
            border-color: rgba(255, 215, 0, 0.4);
            color: #FFFFFF;
        }

        .theme-option.active {
            background: rgba(255, 215, 0, 0.15);
            border-color: rgba(255, 215, 0, 0.6);
            color: #FFD700;
        }

        /* Zoom Slider */
        .zoom-slider-container {
            margin-top: 12px;
        }

        .zoom-slider {
            width: 100%;
            height: 6px;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
            appearance: none;
            cursor: pointer;
        }

        .zoom-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #FFD700;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(255, 215, 0, 0.4);
            transition: all 0.2s ease;
        }

        .zoom-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 3px 12px rgba(255, 215, 0, 0.6);
        }

        .zoom-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #FFD700;
            border-radius: 50%;
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 8px rgba(255, 215, 0, 0.4);
            transition: all 0.2s ease;
        }

        .zoom-slider::-moz-range-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 3px 12px rgba(255, 215, 0, 0.6);
        }

        /* Zoom Presets */
        .zoom-presets {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            margin-top: 16px;
        }

        .zoom-preset-btn {
            padding: 8px 12px;
            background: rgba(26, 26, 26, 0.6);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 8px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .zoom-preset-btn:hover {
            background: rgba(255, 215, 0, 0.1);
            border-color: rgba(255, 215, 0, 0.4);
            color: #FFFFFF;
        }

        .zoom-preset-btn.active {
            background: rgba(255, 215, 0, 0.15);
            border-color: rgba(255, 215, 0, 0.5);
            color: #FFD700;
            font-weight: 600;
        }

        /* ========================================
           STATS MANAGEMENT STYLES
           ======================================== */
        
        .stats-card-editor {
            padding: 20px;
            background: rgba(26, 26, 26, 0.5);
            border: 1px solid rgba(255, 215, 0, 0.15);
            border-radius: 12px;
            margin-bottom: 24px;
        }

        .stats-preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
        }

        .stats-preview-card {
            padding: 20px;
            background: rgba(26, 26, 26, 0.8);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 16px;
        }

        .stats-preview-label {
            font-size: 11px;
            font-weight: 700;
            color: #FFD700;
            letter-spacing: 1px;
            text-transform: uppercase;
            margin-bottom: 12px;
        }

        .stats-preview-value {
            font-size: 32px;
            font-weight: 800;
            color: #FFFFFF;
            background: linear-gradient(135deg, #FFFFFF, #FFD700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
        }

        .stats-preview-change {
            font-size: 14px;
            font-weight: 600;
            color: var(--success-green);
        }

        /* ========================================
           MAINTENANCE PAGE STYLES
           ======================================== */
        
        .maintenance-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 60vh;
            text-align: center;
            padding: 60px 40px;
        }

        .maintenance-icon {
            font-size: 120px;
            margin-bottom: 32px;
            animation: rotate 4s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .maintenance-title {
            font-size: 48px;
            font-weight: 800;
            background: linear-gradient(135deg, #FFD700, #FFC107);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 24px;
        }

        .maintenance-message {
            font-size: 20px;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto 16px;
            font-weight: 500;
        }

        .maintenance-submessage {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.6);
            line-height: 1.6;
            max-width: 500px;
            margin: 0 auto 40px;
        }

        .maintenance-badge {
            display: inline-block;
            padding: 12px 32px;
            background: rgba(255, 215, 0, 0.15);
            border: 2px solid rgba(255, 215, 0, 0.4);
            border-radius: 50px;
            color: #FFD700;
            font-size: 14px;
            font-weight: 700;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        /* ========================================
           SUPPORT PAGE STYLES
           ======================================== */
        
        .support-page-container {
            display: flex;
            gap: 0;
            height: calc(100vh - 81px);
            overflow: hidden;
            position: fixed;
            top: 81px;
            left: 0;
            right: 0;
            bottom: 0;
        }

        /* FAQ Section (Left 65%) */
        .faq-section {
            width: 65%;
            padding: 50px 40px 40px 40px;
            overflow-y: auto;
            background: rgba(10, 10, 10, 0.5);
        }

        .faq-header {
            margin-bottom: 24px;
        }

        .help-center-badge {
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 12px;
            font-weight: 700;
            color: #FFD700;
            letter-spacing: 1px;
            margin-bottom: 12px;
            cursor: default;
        }

        .faq-title {
            font-size: 48px;
            font-weight: 700;
            color: #FFFFFF;
            margin: 0 0 8px 0;
            letter-spacing: -1px;
        }

        .faq-subtitle {
            font-size: 18px;
            color: rgba(255, 255, 255, 0.6);
            margin: 0;
            line-height: 1.5;
        }

        .faq-search-container {
            position: relative;
            margin: 20px 0;
        }

        .search-icon-left {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 20px;
            opacity: 0.5;
        }

        .faq-search {
            width: 100%;
            padding: 18px 20px 18px 55px;
            background: rgba(26, 26, 26, 0.8);
            border: 2px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
            color: #FFFFFF;
            font-size: 16px;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .faq-search:focus {
            outline: none;
            border-color: rgba(255, 215, 0, 0.5);
            background: rgba(26, 26, 26, 0.95);
        }

        .faq-search::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        .faq-categories {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 20px;
        }

        .faq-category-btn {
            padding: 10px 20px;
            background: rgba(26, 26, 26, 0.6);
            border: 2px solid rgba(255, 215, 0, 0.15);
            border-radius: 24px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .faq-category-btn:hover {
            background: rgba(26, 26, 26, 0.8);
            border-color: rgba(255, 215, 0, 0.3);
            transform: translateY(-2px);
        }

        .faq-category-btn.active {
            background: rgba(255, 215, 0, 0.2);
            border-color: rgba(255, 215, 0, 0.6);
            color: #FFD700;
        }

        .faq-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .faq-item {
            background: rgba(26, 26, 26, 0.6);
            border: 2px solid rgba(255, 215, 0, 0.15);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .faq-item:hover {
            border-color: rgba(255, 215, 0, 0.3);
            transform: translateX(4px);
        }

        .faq-question {
            padding: 20px 24px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 16px;
            font-size: 16px;
            font-weight: 600;
            color: #FFFFFF;
            user-select: none;
        }

        .faq-question:hover {
            background: rgba(255, 215, 0, 0.05);
        }

        .faq-arrow {
            color: #FFD700;
            font-size: 14px;
            transition: transform 0.3s ease;
            flex-shrink: 0;
        }

        .faq-item.open .faq-arrow {
            transform: rotate(180deg);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease, padding 0.4s ease;
            padding: 0 24px;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.7;
        }

        .faq-item.open .faq-answer {
            max-height: 1000px;
            padding: 0 24px 20px 24px;
        }

        .faq-answer p {
            margin: 0 0 12px 0;
        }

        .faq-answer p:last-child {
            margin-bottom: 0;
        }

        .faq-video-placeholder {
            margin-top: 16px;
            padding: 20px;
            background: rgba(10, 10, 10, 0.6);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 8px;
            text-align: center;
        }

        .video-icon {
            font-size: 32px;
            margin-bottom: 8px;
        }

        .video-text {
            font-size: 14px;
            font-weight: 600;
            color: #FFD700;
            margin-bottom: 4px;
        }

        .video-note {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.5);
        }

        .no-results {
            text-align: center;
            padding: 60px 20px;
        }

        .no-results-icon {
            font-size: 64px;
            margin-bottom: 16px;
            opacity: 0.3;
        }

        .no-results-text {
            font-size: 24px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 8px;
        }

        .no-results-subtext {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.5);
        }

        /* Chat Widget Area (Right 35%) */
        .chat-widget-container {
            width: 35%;
            background: rgba(5, 5, 5, 0.8);
            border-left: 2px solid rgba(255, 215, 0, 0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 30px 30px 40px 30px;
        }

        .chat-widget-wrapper {
            width: 100%;
            max-width: 500px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .chat-header {
            text-align: center;
            margin-top: 20px;
        }

        .chat-header-icon {
            font-size: 40px;
            margin-bottom: 8px;
        }

        .chat-header-title {
            font-size: 28px;
            font-weight: 700;
            color: #FFFFFF;
            margin: 0;
            letter-spacing: -0.5px;
        }

        .chat-widget-embed {
            width: fit-content;
            max-width: 100%;
            height: auto;
            min-height: 500px;
            max-height: 650px;
            background: rgba(10, 10, 10, 0.3);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            padding: 0;
            position: relative;
            display: inline-block;
        }

        .chat-widget-embed #tawk_695452bda6d2071982ebf8aa {
            width: 100%;
            height: 100%;
            border-radius: 14px;
            overflow: hidden;
        }

        /* Force Tawk.to iframe to fit inside container */
        .chat-widget-embed iframe {
            border-radius: 14px !important;
            max-width: 100% !important;
            display: block !important;
        }

        /* Hide Tawk.to default positioning */
        .chat-widget-embed #tawk_695452bda6d2071982ebf8aa > div {
            border-radius: 14px;
            overflow: hidden;
        }

        .chat-widget-placeholder {
            text-align: center;
            max-width: 100%;
        }

        .chat-placeholder-icon {
            font-size: 72px;
            margin-bottom: 24px;
        }

        .chat-placeholder-title {
            font-size: 28px;
            font-weight: 700;
            color: #FFFFFF;
            margin: 0 0 12px 0;
        }

        .chat-placeholder-text {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.6);
            margin: 0 0 32px 0;
        }

        .chat-placeholder-box {
            padding: 32px;
            background: rgba(26, 26, 26, 0.6);
            border: 2px dashed rgba(255, 215, 0, 0.3);
            border-radius: 12px;
        }

        .chat-placeholder-label {
            font-size: 14px;
            font-weight: 600;
            color: #FFD700;
            margin-bottom: 8px;
        }

        .chat-placeholder-dims {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 12px;
        }

        .chat-placeholder-note {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.5);
        }

        /* Scrollbar for FAQ section */
        .faq-section::-webkit-scrollbar {
            width: 8px;
        }

        .faq-section::-webkit-scrollbar-track {
            background: rgba(10, 10, 10, 0.3);
        }

        .faq-section::-webkit-scrollbar-thumb {
            background: rgba(255, 215, 0, 0.3);
            border-radius: 4px;
        }

        .faq-section::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 215, 0, 0.5);
        }

    </style>

    <!-- Supabase Client Library -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <!-- Animated Background -->
    <div class="background">
        <!-- Removed particles for performance -->
        <!-- <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
        <div class="orb orb-3"></div>
        <div class="particles" id="particles"></div> -->
    </div>

    <!-- Login Screen -->
    <!-- Mobile Blocker Screen -->
    <div class="mobile-blocker" id="mobileBlocker">
        <div class="mobile-blocker-content">
            <div class="mobile-blocker-icon">
                <img src="PIlogo.png" alt="Profit Insider Logo" style="width: 80px; height: 80px; object-fit: contain;">
            </div>
            <h1 class="mobile-blocker-title">Desktop Only</h1>
            <p class="mobile-blocker-message">
                Profit Insider is optimized for desktop browsers only.
            </p>
            <p class="mobile-blocker-submessage">
                Please access this platform from a desktop computer or laptop for the best experience.
            </p>
            <div class="mobile-blocker-devices">
                <div class="device-icon"></div>
                <div class="device-text">Desktop</div>
            </div>
        </div>
    </div>

    <div class="login-screen" id="loginScreen">
        <div class="login-card" id="loginCard">
            <div class="login-logo">
                <div class="pi-icon">
                    <img src="PIlogo.png" alt="Profit Insider Logo">
                </div>
                <div class="login-title">Algorithm Client Access</div>
                <div class="login-subtitle">Premium Trading Platform</div>
            </div>
            <form id="loginForm">
                <div class="form-group">
                    <label for="username">Client ID</label>
                    <input type="text" id="username" placeholder="Enter your client ID" required>
                </div>
                <div class="form-group">
                    <label for="password">Access Code</label>
                    <input type="password" id="password" placeholder="Enter your access code" required>
                </div>
                <button type="submit" class="login-button" id="loginBtn">
                    <span id="loginText">Access Platform</span>
                </button>
            </form>
        </div>
    </div>

    <!-- Transition Overlay -->
    <div class="transition-overlay" id="transitionOverlay">
        <!-- Circuit Board Container -->
        <div class="circuit-board-container" id="circuitContainer">
            <!-- Circuit grid background -->
            <div class="circuit-grid" id="circuitGrid"></div>
            
            <!-- Circuit lines will be generated by JS -->
            
            <!-- Central processor core -->
            <div class="processor-core" id="processorCore">
                <div class="processor-core-inner"></div>
            </div>
            
            <!-- Power surges -->
            <div class="power-surge" id="powerSurge1"></div>
            <div class="power-surge" id="powerSurge2"></div>
            <div class="power-surge" id="powerSurge3"></div>
        </div>
        
        <!-- Black screen for dramatic cut -->
        <div class="black-screen" id="blackScreen"></div>
    </div>

    <!-- Main Dashboard -->
    <div class="dashboard" id="dashboard">
        <!-- Navigation -->
        <nav class="nav">
            <div class="nav-container">
                <div class="nav-logo-section">
                    <div class="nav-pi-icon">
                        <img src="PIlogo.png" alt="PI">
                    </div>
                    <div class="nav-brand">Profit Insider</div>
                </div>
                <ul class="nav-menu">
                    <li class="nav-item active" data-page="home">Home</li>
                    <li class="nav-item" data-page="videos">Video Library</li>
                    <li class="nav-item" data-page="announcements">PiChat</li>
                    <li class="nav-item" data-page="analytics">Analytics <span style="font-size: 11px; opacity: 0.6;">(Under Maintenance)</span></li>
                    <li class="nav-item" data-page="portfolio">Portfolio <span style="font-size: 11px; opacity: 0.6;">(Under Maintenance)</span></li>
                </ul>
                <div class="nav-right">
                    <div class="account-widget" id="accountWidget">
                        <div class="account-avatar" id="userInitials">AC</div>
                        <div class="account-info">
                            <div class="account-name" id="userName">Algorithm Client</div>
                            <div class="account-status">
                                <span class="status-dot blinking"></span>
                                Active Member
                            </div>
                        </div>
                        <div class="account-dropdown">
                            <div class="dropdown-item" onclick="openPreferences()"> Preferences</div>
                            <div class="dropdown-item logout" onclick="logout()"> Log Out</div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Home Page -->
            <div class="page active" id="home">
                <h1 class="page-title">Welcome Back, <span id="userFirstName">Steele</span></h1>
                <p class="page-subtitle">Your elite algorithmic trading dashboard</p>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Total Return</div>
                        <div class="stat-value">+32.4%</div>
                        <div class="stat-change positive"> 4.8% this week</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Portfolio Value</div>
                        <div class="stat-value">$1.2M</div>
                        <div class="stat-change positive"> $86.4K</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Active Strategies</div>
                        <div class="stat-value">15</div>
                        <div class="stat-change positive"> 3 deployed</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Success Rate</div>
                        <div class="stat-value">71.8%</div>
                        <div class="stat-change positive"> 2.3%</div>
                    </div>
                </div>

                <!-- Algorithm Stats Preview Section -->
                <div class="algo-stats-preview">
                    <div class="algo-stats-header">
                        <div class="algo-stats-title">
                            <h2> Daily Algorithm Stats</h2>
                            <p>Latest performance updates from #algorithm-stats</p>
                        </div>
                        <button class="view-all-btn" onclick="navigateToPage('announcements'); setTimeout(() => switchChannel('algo-stats'), 100)">
                            View All Updates 
                        </button>
                    </div>
                    
                    <div class="algo-stats-feed" id="algoStatsFeed">
                        <!-- Algorithm stats messages will be loaded here -->
                        <div class="loading-stats">
                            <div class="loading-spinner"></div>
                            <p>Loading latest stats...</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Video Library Page -->
            <div class="page" id="videos">
                <div class="section-header">
                    <span class="exclusive-badge"> EXCLUSIVE CONTENT</span>
                </div>
                <h1 class="page-title">Video Library</h1>
                <p class="page-subtitle">Your complete collection of members-only training videos and tutorials.</p>

                <div class="video-grid">
                    <div class="video-card" onclick="showVideoDetail('weekly-recap-dec26')">
                        <div class="video-thumbnail">
                            <div class="video-play-btn"></div>
                            <div class="video-duration"> 22 min</div>
                        </div>
                        <div class="video-info">
                            <span class="video-category">Performance Updates</span>
                            <h3 class="video-title">Weekly Trading Recap: VoodooBot and PropBot Performance Analysis (Dec. 26th 2025)</h3>
                            <p class="video-description">Performance analysis of VoodooBot and PropBot during the holiday trading week, including win rates, risk management insights, and scaling technology breakdown.</p>
                            <div class="video-meta">
                                <span> 22 min</span>
                                <span></span>
                                <span> Members Only</span>
                                <span></span>
                                <span>151 views</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Video Detail Page -->
            <div class="page" id="videoDetail">
                <button class="back-button" onclick="navigateToPage('videos')">
                     Back to Video Library
                </button>

                <div class="video-detail-header">
                    <span class="video-category" id="detailCategory">Getting Started</span>
                    <h1 class="video-detail-title" id="detailTitle">Algorithm Fundamentals</h1>
                    <div class="video-detail-meta">
                        <span> <span id="detailDuration">12</span> min</span>
                        <span></span>
                        <span> Members Only</span>
                    </div>
                </div>

                <div class="video-player-container">
                    <div class="video-player-placeholder">
                        <div class="video-player-text">Add your video embed URL in the videoData object</div>
                    </div>
                </div>

                <div class="video-about-section">
                    <div class="about-header">
                        <span class="about-icon"></span>
                        <h2 class="about-title">About This Video</h2>
                    </div>
                    <div class="about-text" id="detailAbout">
                        This foundational video introduces you to the core principles that power our proprietary trading algorithm. You'll gain a comprehensive understanding of how the system works and why it's been so effective for our members.<br><br>
                        We'll walk you through the basic concepts, terminology, and framework that you'll use throughout your journey with us. By the end of this video, you'll have a solid foundation to build upon as you progress through the more advanced materials.
                    </div>

                    <div class="topics-section">
                        <div class="topics-label">Topics Covered</div>
                        <div class="topics-grid" id="detailTopics">
                            <span class="topic-tag">Core Algorithm Concepts</span>
                            <span class="topic-tag">System Overview</span>
                            <span class="topic-tag">Key Terminology</span>
                            <span class="topic-tag">Getting Set Up</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PiChat Page -->
            <div class="page" id="announcements">
                <div class="slack-container">
                    <!-- Left Sidebar - Channels -->
                    <div class="slack-sidebar">
                        <div class="slack-workspace-header">
                            <h3>Profit Insider</h3>
                            <div class="workspace-status">
                                <div class="status-dot"></div>
                                <span>4 channels</span>
                            </div>
                        </div>

                        <div class="slack-channels-section">
                            <div class="channels-header">
                                <span>Channels</span>
                            </div>
                            
                            <button class="slack-channel-item active" data-channel="general-updates" onclick="switchChannel('general-updates')">
                                <span class="channel-hash">#</span>
                                <span class="channel-name">general-updates</span>
                            </button>
                            
                            <button class="slack-channel-item" data-channel="algo-recaps" onclick="switchChannel('algo-recaps')">
                                <span class="channel-hash">#</span>
                                <span class="channel-name">algo-recaps</span>
                            </button>
                            
                            <button class="slack-channel-item" data-channel="algo-stats" onclick="switchChannel('algo-stats')">
                                <span class="channel-hash">#</span>
                                <span class="channel-name">algorithm-stats</span>
                            </button>
                            
                            <button class="slack-channel-item" data-channel="algo-announcements" onclick="switchChannel('algo-announcements')">
                                <span class="channel-hash">#</span>
                                <span class="channel-name">algo-announcements</span>
                            </button>
                        </div>
                    </div>

                    <!-- Main Content Area -->
                    <div class="slack-main">
                        <!-- Channel Header -->
                        <div class="slack-channel-header">
                            <div class="channel-header-left">
                                <h2 class="channel-title">
                                    <span class="channel-hash">#</span>
                                    <span id="currentChannelName">general-updates</span>
                                </h2>
                            </div>
                            <div class="channel-header-desc" id="currentChannelDesc">
                                Latest platform updates and announcements
                            </div>
                        </div>

                        <!-- Messages Container -->
                        <div class="slack-messages-wrapper">
                            <!-- General Updates Channel Messages -->
                            <div class="slack-messages-container" id="slack-messages-general-updates">
                                <div id="messages-general-updates"></div>
                            </div>

                            <!-- Algo Recaps Channel Messages -->
                            <div class="slack-messages-container" id="slack-messages-algo-recaps" style="display: none;">
                                <div id="messages-algo-recaps"></div>
                            </div>

                            <!-- Algorithm Stats Channel Messages -->
                            <div class="slack-messages-container" id="slack-messages-algo-stats" style="display: none;">
                                <div id="messages-algo-stats"></div>
                            </div>

                            <!-- Algo Announcements Channel Messages -->
                            <div class="slack-messages-container" id="slack-messages-algo-announcements" style="display: none;">
                                <div id="messages-algo-announcements"></div>
                            </div>
                        </div>

                        <!-- Read-Only Notice (for clients) -->
                        <div class="slack-input-disabled">
                            <div class="disabled-icon"></div>
                            <span>This is a read-only channel. Only admins can post announcements.</span>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Analytics Page -->
            <!-- Analytics Page -->
            <div class="page" id="analytics">
                <div class="maintenance-container">
                    <div class="maintenance-icon"></div>
                    <h1 class="maintenance-title">Under Maintenance</h1>
                    <p class="maintenance-message">
                        We're currently upgrading the Analytics dashboard to bring you enhanced features and improved performance metrics.
                    </p>
                    <p class="maintenance-submessage">
                        This section will be available soon. Thank you for your patience.
                    </p>
                    <div class="maintenance-badge">Coming Soon</div>
                </div>
            </div>

            <!-- Portfolio Page -->
            <div class="page" id="portfolio">
                <div class="maintenance-container">
                    <div class="maintenance-icon"></div>
                    <h1 class="maintenance-title">Under Maintenance</h1>
                    <p class="maintenance-message">
                        We're currently upgrading the Portfolio dashboard to bring you enhanced features and improved portfolio tracking.
                    </p>
                    <p class="maintenance-submessage">
                        This section will be available soon. Thank you for your patience.
                    </p>
                    <div class="maintenance-badge">Coming Soon</div>
                </div>
            </div>

            <!-- Support Page -->
            <div class="page" id="support">
                <div class="support-page-container">
                    <!-- Left Side: FAQ Section (65%) -->
                    <div class="faq-section">
                        <div class="faq-header">
                            <button class="help-center-badge">
                                 HELP CENTER
                            </button>
                            <h1 class="faq-title">FAQ Library</h1>
                            <p class="faq-subtitle">Find answers to commonly asked questions about the Algorithm Client program.</p>
                        </div>

                        <!-- Search Bar -->
                        <div class="faq-search-container">
                            <span class="search-icon-left"></span>
                            <input type="text" class="faq-search" id="faqSearch" placeholder="Search for answers..." onkeyup="searchFAQs()" />
                        </div>

                        <!-- Category Filters -->
                        <div class="faq-categories">
                            <button class="faq-category-btn active" onclick="filterFAQCategory('all')">All Questions</button>
                            <button class="faq-category-btn" onclick="filterFAQCategory('getting-started')">Getting Started</button>
                            <button class="faq-category-btn" onclick="filterFAQCategory('platform')">Platform & Setup</button>
                            <button class="faq-category-btn" onclick="filterFAQCategory('algorithm')">Algorithm</button>
                            <button class="faq-category-btn" onclick="filterFAQCategory('performance')">Performance</button>
                            <button class="faq-category-btn" onclick="filterFAQCategory('prop-firm')">Prop Firms</button>
                            <button class="faq-category-btn" onclick="filterFAQCategory('troubleshooting')">Troubleshooting</button>
                            <button class="faq-category-btn" onclick="filterFAQCategory('billing')">Billing</button>
                        </div>

                        <!-- FAQ Items -->
                        <div class="faq-list" id="faqList">
                            <!-- Content will be populated here -->
                            <div class="faq-item" data-category="getting-started">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>How do I get started after purchasing?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>Complete the onboarding process by watching all training videos in order. You'll receive access to all member resources and can schedule your setup call with our team. Start with the fundamentals video as it covers essential concepts.</p>
                                </div>
                            </div>

                            <div class="faq-item" data-category="getting-started">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>What is included in my subscription?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>Your subscription includes access to PropBot and Voodoo algorithms, training materials, Discord community, weekly webinars, priority support, and ongoing strategy updates.</p>
                                </div>
                            </div>

                            <div class="faq-item" data-category="getting-started">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>Do I need trading experience to use this?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>No prior trading experience required. The algorithm handles all trading decisions automatically. However, understanding basic trading concepts helps you better manage expectations and your account.</p>
                                </div>
                            </div>

                            <div class="faq-item" data-category="getting-started">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>What equipment or software do I need?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>You need: a computer with internet access, a supported brokerage account (Tradovate, Apex, or Interactive Brokers), and a TradersPost account. We recommend the TradersPost Starter Plan for optimal performance.</p>
                                </div>
                            </div>

                            <!-- PLATFORM & SETUP -->
                            <div class="faq-item" data-category="platform">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>What is TradersPost?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>TradersPost is the platform that receives trading signals from our algorithm and executes them on your brokerage account. It acts as the bridge between our signals and your broker.</p>
                                </div>
                            </div>

                            <div class="faq-item" data-category="platform">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>What brokers are supported?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>We support Tradovate, Apex Trader Funding, and Interactive Brokers. Each broker has specific setup requirements detailed in our training materials.</p>
                                </div>
                            </div>

                            <div class="faq-item" data-category="platform">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>How do I enable Auto-Submit in TradersPost?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>In TradersPost, go to your broker connection settings and toggle "Auto-Submit Orders" to ON. This ensures orders execute automatically without manual confirmation.</p>
                                </div>
                            </div>

                            <!-- ALGORITHM QUESTIONS -->
                            <div class="faq-item" data-category="algorithm">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>What is PropBot used for?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>PropBot is designed for prop firm evaluations. It focuses on consistent, steady gains while managing risk according to prop firm rules. It automatically flattens positions by 5PM EST to comply with requirements.</p>
                                </div>
                            </div>

                            <div class="faq-item" data-category="algorithm">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>What is Voodoo Bot used for?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>Voodoo Bot is optimized for funded accounts and larger capital. It uses a more aggressive strategy aimed at maximizing returns while maintaining proper risk management.</p>
                                </div>
                            </div>

                            <div class="faq-item" data-category="algorithm">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>What instruments does the algorithm trade?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>The algorithm primarily trades ES (E-mini S&P 500) and NQ (E-mini Nasdaq) futures contracts. For smaller accounts, MES and MNQ micro contracts are supported.</p>
                                </div>
                            </div>

                            <div class="faq-item" data-category="algorithm">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>Does the algorithm take order flow into account?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>Yes, the algorithm incorporates advanced order flow analysis, market structure, and liquidity patterns to identify high-probability trade setups.</p>
                                </div>
                            </div>

                            <!-- PERFORMANCE & EXPECTATIONS -->
                            <div class="faq-item" data-category="performance">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>Why doesn't the algo trade every day?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>The algorithm only takes trades when market conditions meet its specific criteria. Trading every day without favorable conditions would increase risk and reduce profitability. Quality over quantity is key to long-term success.</p>
                                    <div class="faq-video-placeholder">
                                        <div class="video-icon"></div>
                                        <div class="video-text">Video: Understanding Trade Frequency</div>
                                        <div class="video-note">// Video embed area</div>
                                    </div>
                                </div>
                            </div>

                            <div class="faq-item" data-category="performance">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>What is the 90-day evaluation period?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>The 90-day evaluation period is the recommended timeframe to properly assess algorithm performance. This provides enough sample size to account for market variability and different conditions.</p>
                                </div>
                            </div>

                            <div class="faq-item" data-category="performance">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>Should I watch the trades in real-time?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>Not recommended. Watching trades in real-time can lead to emotional decision-making and unnecessary stress. The algorithm is designed to work independently - trust the process and review results periodically.</p>
                                </div>
                            </div>

                            <div class="faq-item" data-category="performance">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>Is it normal to have losing days or weeks?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>Yes, absolutely. Even profitable trading systems have losing periods. What matters is the overall trend and performance over months, not individual days or weeks. Drawdowns are a normal part of trading.</p>
                                </div>
                            </div>

                            <!-- PROP FIRM SPECIFIC -->
                            <div class="faq-item" data-category="prop-firm">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>What happens after I pass a prop evaluation?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>After passing, you'll receive a funded account from the prop firm. You can continue using PropBot or switch to Voodoo Bot for the funded account. Make sure to update your TradersPost connection to the new funded account.</p>
                                </div>
                            </div>

                            <div class="faq-item" data-category="prop-firm">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>Will the algo flatten by 5PM EST for Apex rules?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>Yes, PropBot automatically closes all positions by 5PM EST to comply with Apex and most prop firm rules that don't allow overnight holdings during evaluations.</p>
                                </div>
                            </div>

                            <div class="faq-item" data-category="prop-firm">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>Can I run the algorithm on multiple prop accounts?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>Yes! You can run the algorithm on as many prop evaluations as you want simultaneously. Each account requires its own TradersPost subscription and webhook setup.</p>
                                </div>
                            </div>

                            <div class="faq-item" data-category="prop-firm">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>What sizing should I use for a $50K evaluation?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>For $50K evaluations, we recommend starting with 1 MNQ contract. You can adjust the Signal Quantity Multiplier in TradersPost based on your risk tolerance and prop firm rules.</p>
                                </div>
                            </div>

                            <!-- TROUBLESHOOTING -->
                            <div class="faq-item" data-category="troubleshooting">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>The algo isn't trading  what do I check?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>Check these in order: 1) Is Auto-Submit enabled in TradersPost? 2) Is your broker connection active? 3) Is the correct strategy enabled? 4) Are there sufficient market conditions for a trade? Remember, the algo doesn't trade every day.</p>
                                </div>
                            </div>

                            <div class="faq-item" data-category="troubleshooting">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>I got a "LiquidationOnly" rejection  what does that mean?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>This means your account has hit a margin or drawdown limit and can only close positions, not open new ones. Check your account status with your broker - you may have violated prop firm rules or hit a daily loss limit.</p>
                                </div>
                            </div>

                            <div class="faq-item" data-category="troubleshooting">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>All my trades are being rejected  what's wrong?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>Common causes: incorrect API credentials, wrong account type selected (paper vs live), insufficient margin, or broker connection issues. Check your TradersPost logs for specific error messages.</p>
                                </div>
                            </div>

                            <div class="faq-item" data-category="troubleshooting">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>My account got blown  what happened?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>If an account was blown unexpectedly, possible causes include: wrong Signal Quantity Multiplier setting, multiple strategies running simultaneously, or manual trades conflicting with algorithm. Contact support immediately to review logs.</p>
                                </div>
                            </div>

                            <!-- BILLING & REFUNDS -->
                            <div class="faq-item" data-category="billing">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>What is your refund policy?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>We offer refunds within the first 90 days if the algorithm doesn't perform as expected during your evaluation period. Please review our full refund policy in your member agreement or contact support for details.</p>
                                </div>
                            </div>

                            <div class="faq-item" data-category="billing">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>How do I update my payment information?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>Update your billing information through your account settings or contact support via the chat widget for assistance.</p>
                                </div>
                            </div>

                            <div class="faq-item" data-category="billing">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>Can I cancel my subscription?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>Yes, you can cancel anytime. Contact support to initiate cancellation. Your access will continue through the end of your current billing period.</p>
                                </div>
                            </div>

                            <div class="faq-item" data-category="billing">
                                <div class="faq-question" onclick="toggleFAQ(this)">
                                    <span>Do you offer payment plans?</span>
                                    <span class="faq-arrow"></span>
                                </div>
                                <div class="faq-answer">
                                    <p>Yes, we offer flexible payment options. Contact our sales team or support to discuss payment plan options that work for your situation.</p>
                                </div>
                            </div>
                        </div>

                        <!-- No Results Message -->
                        <div class="no-results" id="noResults" style="display: none;">
                            <div class="no-results-icon"></div>
                            <div class="no-results-text">No FAQs found</div>
                            <div class="no-results-subtext">Try different keywords or browse by category</div>
                        </div>
                    </div>

                    <!-- Right Side: Chat Widget Area (35%) -->
                    <div class="chat-widget-container">
                        <div class="chat-widget-wrapper">
                            <div class="chat-header">
                                <div class="chat-header-icon"></div>
                                <h3 class="chat-header-title">VIP Support</h3>
                            </div>
                            <div class="chat-widget-embed">
                                <!-- Tawk.to Chat Widget -->
                                <div id='tawk_695452bda6d2071982ebf8aa'></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Support Button (Floating) -->
        <button class="support-button" onclick="openChatSupport()">
             Priority Support
        </button>
    </div>

    <script>
        // Wait for DOM and Supabase library to be ready
        document.addEventListener('DOMContentLoaded', function() {
            // ============================================
            // MOBILE DEVICE DETECTION & BLOCKING
            // ============================================
            function isMobileDevice() {
                // Check user agent for mobile devices
                const userAgent = navigator.userAgent || navigator.vendor || window.opera;
                
                // Mobile device patterns
                const mobilePatterns = [
                    /Android/i,
                    /webOS/i,
                    /iPhone/i,
                    /iPad/i,
                    /iPod/i,
                    /BlackBerry/i,
                    /Windows Phone/i,
                    /Mobile/i
                ];
                
                // Check if any pattern matches
                const isMobileUA = mobilePatterns.some(pattern => userAgent.match(pattern));
                
                // Also check screen size as a backup (less than 768px width is typically mobile)
                const isSmallScreen = window.innerWidth < 768;
                
                // Check touch capability (most mobiles have touch)
                const hasTouch = ('ontouchstart' in window) || (navigator.maxTouchPoints > 0);
                
                return isMobileUA || (isSmallScreen && hasTouch);
            }
            
            // Check if mobile and block access
            if (isMobileDevice()) {
                console.log(' Mobile device detected - blocking access');
                const mobileBlocker = document.getElementById('mobileBlocker');
                const loginScreen = document.getElementById('loginScreen');
                
                if (mobileBlocker) {
                    mobileBlocker.classList.add('active');
                }
                if (loginScreen) {
                    loginScreen.style.display = 'none';
                }
                
                // Prevent any further execution
                return;
            }
            
            console.log(' Desktop device detected - allowing access');
            
            // Check if Supabase library is loaded
            if (typeof window.supabase === 'undefined') {
                console.error(' Supabase library not loaded! Please check your internet connection.');
                alert('Failed to load required libraries. Please refresh the page.');
                return;
            }

        // ============================================
        // OMNISEND CONFIGURATION
        // ============================================
        // Get your API key from: https://app.omnisend.com/settings/api-keys
        const OMNISEND_API_KEY = 'YOUR_OMNISEND_API_KEY_HERE';
        const OMNISEND_ENABLED = false; // Set to true when API key is added

        // ============================================
        // SUPABASE CONFIGURATION
        // ============================================
        // Get your keys from: https://app.supabase.com/project/_/settings/api
        const SUPABASE_URL = 'https://ztuwblktrssupogcxamz.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp0dXdibGt0cnNzdXBvZ2N4YW16Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcyOTMyOTgsImV4cCI6MjA4Mjg2OTI5OH0.9HtyuKU4h8nBOHsp-M1S21y2EU3_rurdyj3w_pBu7sc';

        // Initialize Supabase
        let supabase;
        try {
            supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
            console.log(' Supabase connected successfully!');
        } catch (error) {
            console.error(' Supabase initialization error:', error);
            alert('Supabase not configured. Please add your Supabase credentials.');
        }

        // Restore user display if logged in
        const storedUser = sessionStorage.getItem('currentUser');
        if (storedUser) {
            try {
                const user = JSON.parse(storedUser);
                updateUserDisplay(user);
            } catch (e) {
                console.error('Error restoring user:', e);
            }
        }

        // Video data
        const videoData = {
            'weekly-recap-dec26': {
                category: 'Performance Updates',
                title: 'Weekly Trading Recap: VoodooBot and PropBot Performance Analysis (Dec. 26th 2025)',
                duration: '22',
                videoUrl: 'https://www.loom.com/embed/f45a049b2d8b41a095598b8fe8b348a0',
                about: 'Hey team, in this week\'s recap, I discussed the performance of our VoodooBot and PropBot algorithms during a slow trading week due to the holidays. VoodooBot had only four trades, losing three but still ended up profitable thanks to its scaling technology. On the other hand, PropBot excelled with a 93% win rate, showcasing its effectiveness in choppy market conditions. I emphasized the importance of managing risk and not over-leveraging, especially during volatile periods. If you have any questions or need help reallocating risk, please reach out to me.',
                topics: ['VoodooBot Performance', 'PropBot Win Rate', 'Risk Management', 'Holiday Trading Conditions', 'Scaling Technology']
            }
        };

        // Create animated particles
        // Removed for performance optimization - now using static gradient background
        /*
        function createParticles() {
            const container = document.getElementById('particles');
            const particleCount = 50;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDuration = (Math.random() * 10 + 15) + 's';
                particle.style.animationDelay = Math.random() * 10 + 's';
                container.appendChild(particle);
            }
        }
        */

        // Account dropdown toggle
        const accountWidget = document.getElementById('accountWidget');
        accountWidget.addEventListener('click', function(e) {
            e.stopPropagation();
            this.classList.toggle('open');
        });

        document.addEventListener('click', function() {
            accountWidget.classList.remove('open');
        });

        // Login functionality with Circuit Board Intro
        const loginForm = document.getElementById('loginForm');
        const loginBtn = document.getElementById('loginBtn');
        const loginText = document.getElementById('loginText');
        const loginScreen = document.getElementById('loginScreen');
        const transitionOverlay = document.getElementById('transitionOverlay');
        const circuitContainer = document.getElementById('circuitContainer');
        const circuitGrid = document.getElementById('circuitGrid');
        const processorCore = document.getElementById('processorCore');
        const powerSurge1 = document.getElementById('powerSurge1');
        const powerSurge2 = document.getElementById('powerSurge2');
        const powerSurge3 = document.getElementById('powerSurge3');
        const blackScreen = document.getElementById('blackScreen');
        const dashboard = document.getElementById('dashboard');

        // Debug logging
        console.log(' Login form elements found');

        // Create circuit board network
        function createCircuitBoard() {
            const width = window.innerWidth;
            const height = window.innerHeight;
            const centerX = width / 2;
            const centerY = height / 2;
            
            // Create grid of connection points
            const gridSize = 8;
            const points = [];
            for (let i = 1; i < gridSize; i++) {
                for (let j = 1; j < gridSize; j++) {
                    points.push({
                        x: (width / gridSize) * i,
                        y: (height / gridSize) * j
                    });
                }
            }
            
            // Create circuit nodes
            points.forEach((point, index) => {
                const node = document.createElement('div');
                node.className = 'circuit-node';
                node.style.left = point.x + 'px';
                node.style.top = point.y + 'px';
                circuitContainer.appendChild(node);
                
                // Activate nodes with cascading delay
                setTimeout(() => {
                    node.classList.add('active');
                }, 100 * index);
            });
            
            // Create connecting lines between nearby points
            points.forEach((point1, i) => {
                points.forEach((point2, j) => {
                    if (i < j) {
                        const dx = point2.x - point1.x;
                        const dy = point2.y - point1.y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        
                        // Only connect nearby points
                        if (distance < 250 && Math.random() > 0.5) {
                            createCircuitLine(point1, point2, i * 50);
                        }
                    }
                });
            });
            
            // Create microchips at strategic points
            const chipPositions = [
                { x: width * 0.25, y: height * 0.25 },
                { x: width * 0.75, y: height * 0.25 },
                { x: width * 0.25, y: height * 0.75 },
                { x: width * 0.75, y: height * 0.75 },
            ];
            
            chipPositions.forEach((pos, index) => {
                const chip = document.createElement('div');
                chip.className = 'circuit-chip';
                chip.style.left = pos.x + 'px';
                chip.style.top = pos.y + 'px';
                circuitContainer.appendChild(chip);
                
                setTimeout(() => {
                    chip.classList.add('active');
                }, 800 + index * 200);
            });
        }

        function createCircuitLine(start, end, delay) {
            const dx = end.x - start.x;
            const dy = end.y - start.y;
            const distance = Math.sqrt(dx * dx + dy * dy);
            const angle = Math.atan2(dy, dx) * (180 / Math.PI);
            
            const line = document.createElement('div');
            line.className = 'circuit-line circuit-line-horizontal';
            line.style.left = start.x + 'px';
            line.style.top = start.y + 'px';
            line.style.width = distance + 'px';
            line.style.transform = `rotate(${angle}deg)`;
            line.style.transformOrigin = 'left center';
            circuitContainer.appendChild(line);
            
            setTimeout(() => {
                line.classList.add('active');
                line.style.width = distance + 'px';
                
                // Create data pulse along this line
                if (Math.random() > 0.6) {
                    createDataPulse(start, end, delay + 400);
                }
            }, delay);
        }

        function createDataPulse(start, end, delay) {
            const pulse = document.createElement('div');
            pulse.className = 'data-pulse';
            pulse.style.left = start.x + 'px';
            pulse.style.top = start.y + 'px';
            
            const dx = end.x - start.x;
            const dy = end.y - start.y;
            const angle = Math.atan2(dy, dx) * (180 / Math.PI);
            const distance = Math.sqrt(dx * dx + dy * dy);
            
            pulse.style.setProperty('--distance', distance + 'px');
            pulse.style.transform = `rotate(${angle}deg)`;
            
            circuitContainer.appendChild(pulse);
            
            setTimeout(() => {
                pulse.classList.add('active');
                setTimeout(() => pulse.remove(), 1500);
            }, delay);
        }

        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            console.log(' Form submitted! preventDefault called.');
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            console.log('Login attempt - Username:', username, 'Password length:', password.length);

            if (username && password) {
                // Check for admin credentials
                if (username === 'admin2151' && password === 'Logan0929!') {
                    // Admin login - skip intro, go directly to admin page
                    loginText.innerHTML = '<div class="loading-spinner"></div>';
                    loginBtn.classList.add('loading');

                    setTimeout(() => {
                        loginScreen.classList.add('hidden');
                        document.getElementById('adminPage').classList.add('visible');
                        loginBtn.classList.remove('loading');
                        loginText.textContent = 'Access Platform';
                    }, 1500);
                    return;
                }

                // Check Supabase database for user credentials
                loginText.innerHTML = '<div class="loading-spinner"></div>';
                loginBtn.classList.add('loading');

                if (!supabase) {
                    // Supabase not available - show error
                    showLoginError('System Error - Please contact support');
                    return;
                }

                // Query Supabase for matching user
                console.log('Attempting to login with username:', username);
                
                supabase
                    .from('users')
                    .select('*')
                    .eq('username', username)
                    .maybeSingle() // Use maybeSingle instead of single to avoid errors when no user found
                    .then(({ data: user, error }) => {
                        console.log('Supabase response:', { user, error });

                        if (error) {
                            console.error('Supabase error:', error);
                            showLoginError('Database Error - Check console');
                            return;
                        }

                        if (!user) {
                            // Username not found
                            console.log('User not found in database');
                            showLoginError('Invalid username or password');
                            return;
                        }

                        console.log('User found:', user.username);

                        // Check password and status
                        if (user.password !== password) {
                            // Password incorrect
                            console.log('Password incorrect');
                            showLoginError('Invalid username or password');
                            return;
                        }

                        if (user.status !== 'active') {
                            // User account is inactive
                            console.log('User account inactive');
                            showLoginError('Account Inactive');
                            return;
                        }

                        console.log('Login successful!');

                        // Update last login
                        const lastLoginTime = new Date().toLocaleString('en-US', {
                            month: 'short',
                            day: 'numeric',
                            year: 'numeric',
                            hour: 'numeric',
                            minute: '2-digit',
                            hour12: true
                        });

                        supabase
                            .from('users')
                            .update({ last_login: lastLoginTime })
                            .eq('id', user.id)
                            .then(() => console.log('Last login updated'));

                        // Store user data in sessionStorage
                        sessionStorage.setItem('currentUser', JSON.stringify({
                            name: user.name,
                            username: user.username,
                            role: user.role
                        }));

                        // Update UI with user's name
                        updateUserDisplay(user);

                        // Check if user has admin role
                        if (user.role === 'admin') {
                            // Admin user - redirect to admin panel
                            setTimeout(() => {
                                loginScreen.classList.add('hidden');
                                document.getElementById('adminPage').classList.add('visible');
                                loginBtn.classList.remove('loading');
                                loginText.textContent = 'Access Platform';
                            }, 1500);
                        } else {
                            // Regular user - proceed to client dashboard
                            performClientLogin();
                        }
                    })
                    .catch((error) => {
                        console.error('Login catch error:', error);
                        showLoginError('Connection Error - Check console');
                    });
            }
        });

        // Update user display in navigation
        function updateUserDisplay(user) {
            const userName = document.getElementById('userName');
            const userInitials = document.getElementById('userInitials');
            const userFirstName = document.getElementById('userFirstName');
            
            if (userName) {
                userName.textContent = user.name || 'Algorithm Client';
            }
            
            if (userInitials && user.name) {
                // Get initials from name
                const nameParts = user.name.split(' ');
                const initials = nameParts.length >= 2 
                    ? nameParts[0][0] + nameParts[nameParts.length - 1][0]
                    : user.name.substring(0, 2);
                userInitials.textContent = initials.toUpperCase();
            }
            
            if (userFirstName && user.name) {
                // Get first name from full name
                const firstName = user.name.split(' ')[0];
                userFirstName.textContent = firstName;
            }
        }

        // Perform client login with animation
        function performClientLogin() {
            // Phase 2: Fade to black (at 1s)
            setTimeout(() => {
                loginScreen.style.transition = 'opacity 0.6s ease';
                loginScreen.style.opacity = '0';
                transitionOverlay.classList.add('active');
            }, 1000);

            // Phase 3: Circuit container activates (at 1.8s)
            setTimeout(() => {
                circuitContainer.classList.add('active');
                circuitGrid.classList.add('active');
            }, 1800);

            // Phase 4: Build circuit board (at 2s)
            setTimeout(() => {
                createCircuitBoard();
            }, 2000);

            // Phase 5: Power surges (at 3.5s)
            setTimeout(() => powerSurge1.classList.add('active'), 3500);
            setTimeout(() => powerSurge2.classList.add('active'), 3800);
            setTimeout(() => powerSurge3.classList.add('active'), 4100);

            // Phase 6: Processor core activates (at 4.5s)
            setTimeout(() => {
                processorCore.classList.add('active');
            }, 4500);

            // Phase 7: CUT TO BLACK SCREEN (at 5.5s - circuit board finishes)
            setTimeout(() => {
                blackScreen.classList.add('active');
            }, 5500);

            // Phase 8: Hold on black screen for 1.5s, then fade to dashboard (at 7s)
            setTimeout(() => {
                transitionOverlay.style.transition = 'opacity 1s ease';
                transitionOverlay.style.opacity = '0';
            }, 7000);

            setTimeout(() => {
                // Reset
                transitionOverlay.classList.remove('active');
                circuitContainer.classList.remove('active');
                circuitGrid.classList.remove('active');
                processorCore.classList.remove('active');
                processorCore.classList.remove('radiate');
                powerSurge1.classList.remove('active');
                powerSurge2.classList.remove('active');
                powerSurge3.classList.remove('active');
                blackScreen.classList.remove('active');
                transitionOverlay.style.opacity = '1';
                circuitContainer.innerHTML = '<div class="circuit-grid" id="circuitGrid"></div><div class="processor-core" id="processorCore"><div class="processor-core-inner"></div></div><div class="power-surge" id="powerSurge1"></div><div class="power-surge" id="powerSurge2"></div><div class="power-surge" id="powerSurge3"></div>';
                loginScreen.classList.add('hidden');
                loginScreen.style.opacity = '1';
                dashboard.classList.add('visible');
                loginBtn.classList.remove('loading');
                loginText.textContent = 'Access Platform';
                
                // Load video library from database
                loadVideoLibrary();
                
                // Load homepage statistics
                loadHomepageStats();
                
                // Initialize admin video count
                initializeAdminVideoCount();
            }, 8000);
        }

        // Show login error
        function showLoginError(message = 'Invalid Credentials') {
            loginBtn.classList.remove('loading');
            loginText.textContent = message;
            loginBtn.style.background = 'rgba(239, 68, 68, 0.2)';
            loginBtn.style.borderColor = 'rgba(239, 68, 68, 0.4)';
            loginBtn.style.color = '#ef4444';
            
            setTimeout(() => {
                loginText.textContent = 'Access Platform';
                loginBtn.style.background = '';
                loginBtn.style.borderColor = '';
                loginBtn.style.color = '';
            }, 2500);
        }


        // Navigation
        function navigateToPage(pageName) {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.dataset.page === pageName) {
                    item.classList.add('active');
                }
            });

            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageName).classList.add('active');

            // Hide/show support button based on page
            const supportButton = document.querySelector('.support-button');
            if (supportButton) {
                if (pageName === 'support') {
                    supportButton.classList.add('hidden');
                } else {
                    supportButton.classList.remove('hidden');
                }
            }

            // Load videos when navigating to videos page
            if (pageName === 'videos') {
                loadVideoLibrary();
            }

            // Load homepage stats when navigating to home page
            if (pageName === 'home') {
                loadHomepageStats();
            }

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                navigateToPage(this.dataset.page);
            });
        });

        // Show video detail
        function showVideoDetail(videoId) {
            // Try to get video from database first, fallback to hardcoded data
            const video = (window.videoDataFromDatabase && window.videoDataFromDatabase[videoId]) 
                || videoData[videoId];
            
            if (!video) {
                console.error('Video not found:', videoId);
                return;
            }

            document.getElementById('detailCategory').textContent = video.category;
            document.getElementById('detailTitle').textContent = video.title;
            document.getElementById('detailDuration').textContent = video.duration;
            document.getElementById('detailAbout').innerHTML = video.about || video.summary;

            const topicsContainer = document.getElementById('detailTopics');
            topicsContainer.innerHTML = '';
            video.topics.forEach(topic => {
                const tag = document.createElement('span');
                tag.className = 'topic-tag';
                tag.textContent = topic;
                topicsContainer.appendChild(tag);
            });

            // Update video player with Loom embed
            const videoPlayerContainer = document.querySelector('.video-player-container');
            const embedUrl = video.videoUrl || video.loom_embed_url;
            
            if (embedUrl) {
                videoPlayerContainer.innerHTML = `
                    <div style="position: relative; padding-bottom: 56.25%; height: 0;">
                        <iframe 
                            src="${embedUrl}" 
                            frameborder="0" 
                            webkitallowfullscreen 
                            mozallowfullscreen 
                            allowfullscreen 
                            style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 12px;">
                        </iframe>
                    </div>
                `;
            } else {
                videoPlayerContainer.innerHTML = `
                    <div class="video-player-placeholder">
                        <div class="video-player-text">Video embed URL not available</div>
                    </div>
                `;
            }

            navigateToPage('videoDetail');
        }

        // Logout
        function logout() {
            dashboard.classList.remove('visible');
            setTimeout(() => {
                loginScreen.classList.remove('hidden');
                loginBtn.classList.remove('loading');
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
                loginText.textContent = 'Access Platform';
            }, 600);
        }

        // ============================================
        // PREFERENCES FUNCTIONS
        // ============================================

        // Open preferences modal
        function openPreferences() {
            const modal = document.getElementById('preferencesModal');
            modal.classList.add('active');
            
            // Close account dropdown
            document.getElementById('accountWidget').classList.remove('open');
            
            // Load saved preferences
            loadPreferences();
        }

        // Close preferences modal
        function closePreferences() {
            document.getElementById('preferencesModal').classList.remove('active');
        }

        // Load saved preferences from localStorage
        function loadPreferences() {
            // Load theme
            const savedTheme = localStorage.getItem('theme') || 'dark';
            setTheme(savedTheme, false);
            
            // Load zoom
            const savedZoom = localStorage.getItem('zoom') || '100';
            setZoom(parseInt(savedZoom), false);
        }

        // Set theme (dark or light)
        function setTheme(theme, save = true) {
            const darkBtn = document.getElementById('darkModeBtn');
            const lightBtn = document.getElementById('lightModeBtn');
            
            if (theme === 'dark') {
                darkBtn.classList.add('active');
                lightBtn.classList.remove('active');
                // Apply dark theme (currently active)
                document.documentElement.style.setProperty('--background', '#0a0a0a');
                document.documentElement.style.setProperty('--text', '#FFFFFF');
            } else {
                darkBtn.classList.remove('active');
                lightBtn.classList.add('active');
                // Apply light theme
                document.documentElement.style.setProperty('--background', '#FFFFFF');
                document.documentElement.style.setProperty('--text', '#000000');
            }
            
            if (save) {
                localStorage.setItem('theme', theme);
            }
        }

        // Update zoom value display
        function updateZoom(value) {
            document.getElementById('zoomValue').textContent = value + '%';
            applyZoom(value);
            
            // Update active preset button
            const presetBtns = document.querySelectorAll('.zoom-preset-btn');
            presetBtns.forEach(btn => btn.classList.remove('active'));
            
            // Highlight preset if value matches
            const matchingPreset = document.querySelector(`[onclick="setZoom(${value})"]`);
            if (matchingPreset) {
                matchingPreset.classList.add('active');
            }
            
            // Save to localStorage
            localStorage.setItem('zoom', value);
        }

        // Set zoom to specific value
        function setZoom(value, updateSlider = true) {
            if (updateSlider) {
                document.getElementById('zoomSlider').value = value;
            }
            updateZoom(value);
        }

        // Apply zoom to document
        function applyZoom(value) {
            const zoomFactor = value / 100;
            document.documentElement.style.fontSize = (16 * zoomFactor) + 'px';
        }

        // Expose to global scope
        window.openPreferences = openPreferences;
        window.closePreferences = closePreferences;
        window.setTheme = setTheme;
        window.updateZoom = updateZoom;
        window.setZoom = setZoom;

        // Open chat support widget
        function openChatSupport() {
            // Navigate to support page using the same function as nav items
            navigateToPage('support');
        }

        // ============================================
        // FAQ FUNCTIONS
        // ============================================

        function toggleFAQ(element) {
            const faqItem = element.closest('.faq-item');
            const isOpen = faqItem.classList.contains('open');
            
            // Close all other FAQs
            document.querySelectorAll('.faq-item').forEach(item => {
                if (item !== faqItem) {
                    item.classList.remove('open');
                }
            });
            
            // Toggle this FAQ
            if (isOpen) {
                faqItem.classList.remove('open');
            } else {
                faqItem.classList.add('open');
            }
        }

        function filterFAQCategory(category) {
            const faqItems = document.querySelectorAll('.faq-item');
            const noResults = document.getElementById('noResults');
            let visibleCount = 0;
            
            // Update active button
            document.querySelectorAll('.faq-category-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Filter items
            faqItems.forEach(item => {
                if (category === 'all' || item.dataset.category === category) {
                    item.style.display = 'block';
                    visibleCount++;
                } else {
                    item.style.display = 'none';
                }
            });
            
            // Show/hide no results
            noResults.style.display = visibleCount === 0 ? 'block' : 'none';
        }

        function searchFAQs() {
            const searchTerm = document.getElementById('faqSearch').value.toLowerCase();
            const faqItems = document.querySelectorAll('.faq-item');
            const noResults = document.getElementById('noResults');
            let visibleCount = 0;
            
            faqItems.forEach(item => {
                const question = item.querySelector('.faq-question span').textContent.toLowerCase();
                const answer = item.querySelector('.faq-answer').textContent.toLowerCase();
                
                if (question.includes(searchTerm) || answer.includes(searchTerm)) {
                    item.style.display = 'block';
                    visibleCount++;
                } else {
                    item.style.display = 'none';
                }
            });
            
            // Show/hide no results
            noResults.style.display = visibleCount === 0 ? 'block' : 'none';
            
            // Reset category filter if searching
            if (searchTerm) {
                document.querySelectorAll('.faq-category-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.querySelector('.faq-category-btn').classList.add('active');
            }
        }

        // Admin logout function
        function logoutAdmin() {
            document.getElementById('adminPage').classList.remove('visible');
            loginScreen.classList.remove('hidden');
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
        }

        // Show admin announcements section
        function showAdminAnnouncements() {
            document.querySelector('.admin-content').style.display = 'none';
            document.getElementById('adminAnnouncementsSection').classList.add('active');
        }

        // Hide admin announcements section
        function hideAdminAnnouncements() {
            document.getElementById('adminAnnouncementsSection').classList.remove('active');
            document.querySelector('.admin-content').style.display = 'block';
        }

        // USER MANAGEMENT FUNCTIONS
        let usersCache = [];

        // Show user management section
        function showUserManagement() {
            console.log(' showUserManagement called');
            
            const adminContent = document.querySelector('.admin-content');
            const userMgmtSection = document.getElementById('adminUserManagementSection');
            
            console.log('Admin content element:', adminContent);
            console.log('User management section:', userMgmtSection);
            
            if (!adminContent) {
                console.error(' .admin-content not found!');
                return;
            }
            
            if (!userMgmtSection) {
                console.error(' #adminUserManagementSection not found!');
                return;
            }
            
            adminContent.style.display = 'none';
            userMgmtSection.classList.add('active');
            
            console.log(' User management section should now be visible');
            console.log('Section classes:', userMgmtSection.className);
            console.log('Section display:', window.getComputedStyle(userMgmtSection).display);
            
            loadUsers();
        }

        // Hide user management section
        // Hide user management section
        function hideUserManagement() {
            document.getElementById('adminUserManagementSection').classList.remove('active');
            document.querySelector('.admin-content').style.display = 'block';
        }

        // ========== MEDIA MANAGEMENT FUNCTIONS ==========
        
        // Show media management section
        function showMediaManagement() {
            console.log(' showMediaManagement called');
            
            const adminContent = document.querySelector('.admin-content');
            const mediaMgmtSection = document.getElementById('adminMediaManagementSection');
            
            console.log('Admin content:', adminContent);
            console.log('Media section:', mediaMgmtSection);
            
            if (!adminContent || !mediaMgmtSection) {
                console.error(' Required elements not found');
                console.error('adminContent:', adminContent);
                console.error('mediaMgmtSection:', mediaMgmtSection);
                return;
            }
            
            adminContent.style.display = 'none';
            mediaMgmtSection.classList.add('active');
            
            console.log(' Media section should be visible');
            console.log('Section display:', window.getComputedStyle(mediaMgmtSection).display);
            
            loadVideosFromDatabase();
        }
        
        // Expose to global scope
        window.showMediaManagement = showMediaManagement;

        // Hide media management section
        function hideMediaManagement() {
            document.getElementById('adminMediaManagementSection').classList.remove('active');
            document.querySelector('.admin-content').style.display = 'block';
        }
        
        // Expose to global scope
        window.hideMediaManagement = hideMediaManagement;

        // Initialize admin video count on dashboard load
        async function initializeAdminVideoCount() {
            if (!supabase) return;
            
            try {
                const { count, error } = await supabase
                    .from('videos')
                    .select('*', { count: 'exact', head: true });
                
                if (error) throw error;
                
                const adminVideoCountEl = document.getElementById('adminVideoCount');
                if (adminVideoCountEl) {
                    adminVideoCountEl.textContent = `${count || 0} video${count !== 1 ? 's' : ''}`;
                }
            } catch (error) {
                console.error('Error loading video count:', error);
                const adminVideoCountEl = document.getElementById('adminVideoCount');
                if (adminVideoCountEl) {
                    adminVideoCountEl.textContent = 'Click to manage';
                }
            }
        }
        
        // Expose to global scope
        window.initializeAdminVideoCount = initializeAdminVideoCount;

        // Load videos from Supabase
        async function loadVideosFromDatabase() {
            if (!supabase) {
                console.error('Supabase not initialized');
                return;
            }

            const videoList = document.getElementById('videoLibraryList');
            videoList.innerHTML = '<div class="recent-item" style="justify-content: center; padding: 30px; color: rgba(255,255,255,0.4);">Loading videos...</div>';

            try {
                const { data: videos, error } = await supabase
                    .from('videos')
                    .select('*')
                    .order('created_at', { ascending: false });

                if (error) throw error;

                if (!videos || videos.length === 0) {
                    videoList.innerHTML = '<div class="recent-item" style="justify-content: center; padding: 30px; color: rgba(255,255,255,0.4);">No videos yet. Add your first video above!</div>';
                    document.getElementById('adminVideoCount').textContent = '0 videos';
                    return;
                }

                // Update video count in admin dashboard
                document.getElementById('adminVideoCount').textContent = `${videos.length} video${videos.length !== 1 ? 's' : ''}`;

                // Display videos
                videoList.innerHTML = videos.map(video => `
                    <div class="recent-item" style="display: flex; justify-content: space-between; align-items: center; padding: 16px;">
                        <div style="flex: 1;">
                            <div class="recent-title">${video.title}</div>
                            <div class="recent-time" style="margin-top: 4px;">
                                <span style="color: rgba(255,215,0,0.8);">${video.category}</span>  
                                ${video.duration} min  
                                ${video.views || 0} views
                            </div>
                        </div>
                        <div style="display: flex; gap: 8px;">
                            <button 
                                class="admin-btn" 
                                style="padding: 8px 16px; font-size: 14px;"
                                onclick="editVideo(${video.id})">
                                 Edit
                            </button>
                            <button 
                                class="admin-btn" 
                                style="padding: 8px 16px; font-size: 14px; background: rgba(220,38,38,0.2); border-color: rgba(220,38,38,0.3);"
                                onclick="deleteVideo(${video.id}, '${video.title.replace(/'/g, "\\'")}')">
                                 Delete
                            </button>
                        </div>
                    </div>
                `).join('');

            } catch (error) {
                console.error('Error loading videos:', error);
                videoList.innerHTML = '<div class="recent-item" style="justify-content: center; padding: 30px; color: rgba(220,38,38,0.8);">Error loading videos. Please try again.</div>';
            }
        }

        // Add new video
        async function addNewVideo(event) {
            event.preventDefault();

            if (!supabase) {
                alert('Database not initialized');
                return;
            }

            const btn = document.getElementById('addVideoBtn');
            const originalText = btn.textContent;
            btn.textContent = 'Adding...';
            btn.disabled = true;

            try {
                // Get form values
                const title = document.getElementById('videoTitle').value.trim();
                const category = document.getElementById('videoCategory').value;
                const duration = document.getElementById('videoDuration').value.trim();
                const loomUrl = document.getElementById('videoLoomUrl').value.trim();
                const summary = document.getElementById('videoSummary').value.trim();
                const topicsInput = document.getElementById('videoTopics').value.trim();
                
                // Parse topics
                const topics = topicsInput.split(',').map(t => t.trim()).filter(t => t);

                // Validate Loom URL
                if (!loomUrl.includes('loom.com/embed/')) {
                    alert('Please enter a valid Loom embed URL (should contain loom.com/embed/)');
                    btn.textContent = originalText;
                    btn.disabled = false;
                    return;
                }

                // Generate unique video ID
                const videoId = 'video-' + Date.now();

                // Insert into database
                const { data, error } = await supabase
                    .from('videos')
                    .insert([{
                        video_id: videoId,
                        title: title,
                        category: category,
                        duration: duration,
                        loom_embed_url: loomUrl,
                        summary: summary,
                        topics: topics,
                        views: 0
                    }])
                    .select();

                if (error) throw error;

                // Success!
                alert(' Video added successfully!');
                
                // Clear form
                document.getElementById('addVideoForm').reset();
                
                // Reload video list
                await loadVideosFromDatabase();
                
                // Reload video library page if user is viewing it
                await loadVideoLibrary();

            } catch (error) {
                console.error('Error adding video:', error);
                alert('Error adding video: ' + error.message);
            } finally {
                btn.textContent = originalText;
                btn.disabled = false;
            }
        }

        // Edit video
        async function editVideo(videoId) {
            if (!supabase) {
                alert('Database not initialized');
                return;
            }

            try {
                // Get video data
                const { data: video, error } = await supabase
                    .from('videos')
                    .select('*')
                    .eq('id', videoId)
                    .single();

                if (error) throw error;

                // Populate form
                document.getElementById('videoTitle').value = video.title;
                document.getElementById('videoCategory').value = video.category;
                document.getElementById('videoDuration').value = video.duration;
                document.getElementById('videoLoomUrl').value = video.loom_embed_url;
                document.getElementById('videoSummary').value = video.summary;
                document.getElementById('videoTopics').value = video.topics.join(', ');

                // Change form to update mode
                const form = document.getElementById('addVideoForm');
                const btn = document.getElementById('addVideoBtn');
                
                btn.textContent = ' Update Video';
                
                // Remove existing submit handler and add update handler
                form.onsubmit = async (e) => {
                    e.preventDefault();
                    await updateVideo(videoId);
                };

                // Scroll to form
                document.querySelector('.send-announcement-card').scrollIntoView({ behavior: 'smooth' });

            } catch (error) {
                console.error('Error loading video:', error);
                alert('Error loading video: ' + error.message);
            }
        }

        // Update video
        async function updateVideo(videoId) {
            if (!supabase) {
                alert('Database not initialized');
                return;
            }

            const btn = document.getElementById('addVideoBtn');
            btn.textContent = 'Updating...';
            btn.disabled = true;

            try {
                // Get form values
                const title = document.getElementById('videoTitle').value.trim();
                const category = document.getElementById('videoCategory').value;
                const duration = document.getElementById('videoDuration').value.trim();
                const loomUrl = document.getElementById('videoLoomUrl').value.trim();
                const summary = document.getElementById('videoSummary').value.trim();
                const topicsInput = document.getElementById('videoTopics').value.trim();
                
                // Parse topics
                const topics = topicsInput.split(',').map(t => t.trim()).filter(t => t);

                // Update in database
                const { data, error } = await supabase
                    .from('videos')
                    .update({
                        title: title,
                        category: category,
                        duration: duration,
                        loom_embed_url: loomUrl,
                        summary: summary,
                        topics: topics,
                        updated_at: new Date().toISOString()
                    })
                    .eq('id', videoId)
                    .select();

                if (error) throw error;

                // Success!
                alert(' Video updated successfully!');
                
                // Reset form to add mode
                resetVideoForm();
                
                // Reload video list
                await loadVideosFromDatabase();
                
                // Reload video library page
                await loadVideoLibrary();

            } catch (error) {
                console.error('Error updating video:', error);
                alert('Error updating video: ' + error.message);
            } finally {
                btn.disabled = false;
            }
        }

        // Delete video
        async function deleteVideo(videoId, videoTitle) {
            if (!confirm(`Are you sure you want to delete "${videoTitle}"? This cannot be undone.`)) {
                return;
            }

            if (!supabase) {
                alert('Database not initialized');
                return;
            }

            try {
                const { error } = await supabase
                    .from('videos')
                    .delete()
                    .eq('id', videoId);

                if (error) throw error;

                alert(' Video deleted successfully!');
                
                // Reload video list
                await loadVideosFromDatabase();
                
                // Reload video library page
                await loadVideoLibrary();

            } catch (error) {
                console.error('Error deleting video:', error);
                alert('Error deleting video: ' + error.message);
            }
        }

        // Reset video form to add mode
        function resetVideoForm() {
            const form = document.getElementById('addVideoForm');
            const btn = document.getElementById('addVideoBtn');
            
            form.reset();
            btn.textContent = ' Add Video to Library';
            form.onsubmit = addNewVideo;
        }

        // Load video library from database (for the Video Library page)
        async function loadVideoLibrary() {
            if (!supabase) {
                console.log('Supabase not initialized, using hardcoded data');
                return;
            }

            try {
                const { data: videos, error } = await supabase
                    .from('videos')
                    .select('*')
                    .order('created_at', { ascending: false });

                if (error) throw error;

                if (!videos || videos.length === 0) {
                    console.log('No videos in database');
                    return;
                }

                // Convert database videos to videoData format
                const videoDataFromDB = {};
                videos.forEach(video => {
                    videoDataFromDB[video.video_id] = {
                        category: video.category,
                        title: video.title,
                        duration: video.duration,
                        videoUrl: video.loom_embed_url,
                        about: video.summary,
                        topics: video.topics,
                        views: video.views || 0
                    };
                });

                // Update global videoData
                window.videoDataFromDatabase = videoDataFromDB;

                // Update video grid
                updateVideoGrid(videos);

            } catch (error) {
                console.error('Error loading video library:', error);
            }
        }

        // Update video grid HTML
        function updateVideoGrid(videos) {
            const videoGrid = document.querySelector('.video-grid');
            if (!videoGrid) return;

            if (videos.length === 0) {
                videoGrid.innerHTML = '<div style="grid-column: 1/-1; text-align: center; padding: 60px 20px; color: rgba(255,255,255,0.4);">No videos available yet.</div>';
                return;
            }

            videoGrid.innerHTML = videos.map(video => `
                <div class="video-card" onclick="showVideoDetail('${video.video_id}')">
                    <div class="video-thumbnail">
                        <div class="video-play-btn"></div>
                        <div class="video-duration"> ${video.duration} min</div>
                    </div>
                    <div class="video-info">
                        <span class="video-category">${video.category}</span>
                        <h3 class="video-title">${video.title}</h3>
                        <p class="video-description">${video.summary.substring(0, 120)}${video.summary.length > 120 ? '...' : ''}</p>
                        <div class="video-meta">
                            <span> ${video.duration} min</span>
                            <span></span>
                            <span> Members Only</span>
                            ${video.views ? `<span></span><span>${video.views} views</span>` : ''}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Expose media management functions to global scope
        window.addNewVideo = addNewVideo;
        window.editVideo = editVideo;
        window.updateVideo = updateVideo;
        window.deleteVideo = deleteVideo;
        window.resetVideoForm = resetVideoForm;
        window.loadVideoLibrary = loadVideoLibrary;
        window.loadVideosFromDatabase = loadVideosFromDatabase;

        // ========== END MEDIA MANAGEMENT FUNCTIONS ==========

        // ========== STATS MANAGEMENT FUNCTIONS ==========
        
        // Show stats management section
        function showStatsManagement() {
            console.log(' showStatsManagement called');
            
            const adminContent = document.querySelector('.admin-content');
            const statsMgmtSection = document.getElementById('adminStatsManagementSection');
            
            if (!adminContent || !statsMgmtSection) {
                console.error(' Required elements not found');
                return;
            }
            
            adminContent.style.display = 'none';
            statsMgmtSection.classList.add('active');
            
            loadCurrentStats();
        }

        // Hide stats management section
        function hideStatsManagement() {
            document.getElementById('adminStatsManagementSection').classList.remove('active');
            document.querySelector('.admin-content').style.display = 'block';
        }

        // Load current stats from database
        async function loadCurrentStats() {
            if (!supabase) {
                console.error('Supabase not initialized');
                return;
            }

            try {
                const { data: stats, error } = await supabase
                    .from('homepage_stats')
                    .select('*');

                if (error) throw error;

                if (stats && stats.length > 0) {
                    stats.forEach(stat => {
                        // Update form fields
                        switch(stat.stat_key) {
                            case 'total_return':
                                document.getElementById('totalReturnValue').value = stat.main_value;
                                document.getElementById('totalReturnChange').value = stat.change_text;
                                document.getElementById('previewTotalReturn').textContent = stat.main_value;
                                document.getElementById('previewTotalReturnChange').textContent = stat.change_text;
                                break;
                            case 'portfolio_value':
                                document.getElementById('portfolioValue').value = stat.main_value;
                                document.getElementById('portfolioChange').value = stat.change_text;
                                document.getElementById('previewPortfolio').textContent = stat.main_value;
                                document.getElementById('previewPortfolioChange').textContent = stat.change_text;
                                break;
                            case 'active_strategies':
                                document.getElementById('activeStrategiesValue').value = stat.main_value;
                                document.getElementById('activeStrategiesChange').value = stat.change_text;
                                document.getElementById('previewStrategies').textContent = stat.main_value;
                                document.getElementById('previewStrategiesChange').textContent = stat.change_text;
                                break;
                            case 'success_rate':
                                document.getElementById('successRateValue').value = stat.main_value;
                                document.getElementById('successRateChange').value = stat.change_text;
                                document.getElementById('previewSuccessRate').textContent = stat.main_value;
                                document.getElementById('previewSuccessRateChange').textContent = stat.change_text;
                                break;
                        }
                    });
                }
            } catch (error) {
                console.error('Error loading stats:', error);
            }
        }

        // Update homepage stats
        async function updateHomeStats(event) {
            event.preventDefault();

            if (!supabase) {
                alert('Database not initialized');
                return;
            }

            const btn = document.getElementById('updateStatsBtn');
            const originalText = btn.textContent;
            btn.textContent = 'Updating...';
            btn.disabled = true;

            try {
                // Get form values
                const statsToUpdate = [
                    {
                        stat_key: 'total_return',
                        main_value: document.getElementById('totalReturnValue').value.trim(),
                        change_text: document.getElementById('totalReturnChange').value.trim()
                    },
                    {
                        stat_key: 'portfolio_value',
                        main_value: document.getElementById('portfolioValue').value.trim(),
                        change_text: document.getElementById('portfolioChange').value.trim()
                    },
                    {
                        stat_key: 'active_strategies',
                        main_value: document.getElementById('activeStrategiesValue').value.trim(),
                        change_text: document.getElementById('activeStrategiesChange').value.trim()
                    },
                    {
                        stat_key: 'success_rate',
                        main_value: document.getElementById('successRateValue').value.trim(),
                        change_text: document.getElementById('successRateChange').value.trim()
                    }
                ];

                // Update each stat in database
                for (const stat of statsToUpdate) {
                    const { error } = await supabase
                        .from('homepage_stats')
                        .upsert({
                            stat_key: stat.stat_key,
                            main_value: stat.main_value,
                            change_text: stat.change_text,
                            updated_at: new Date().toISOString()
                        }, {
                            onConflict: 'stat_key'
                        });

                    if (error) throw error;
                }

                // Success!
                alert(' Homepage statistics updated successfully!\n\nClients will see the new values on their dashboard.');
                
                // Reload preview
                await loadCurrentStats();
                
                // Reload homepage stats for all clients
                await loadHomepageStats();

            } catch (error) {
                console.error('Error updating stats:', error);
                alert('Error updating statistics: ' + error.message);
            } finally {
                btn.textContent = originalText;
                btn.disabled = false;
            }
        }

        // Load homepage stats (for client view)
        async function loadHomepageStats() {
            if (!supabase) return;

            try {
                const { data: stats, error } = await supabase
                    .from('homepage_stats')
                    .select('*');

                if (error) throw error;

                if (stats && stats.length > 0) {
                    stats.forEach(stat => {
                        switch(stat.stat_key) {
                            case 'total_return':
                                const totalReturnValue = document.querySelector('.stat-card:nth-child(1) .stat-value');
                                const totalReturnChange = document.querySelector('.stat-card:nth-child(1) .stat-change');
                                if (totalReturnValue) totalReturnValue.textContent = stat.main_value;
                                if (totalReturnChange) totalReturnChange.textContent = stat.change_text;
                                break;
                            case 'portfolio_value':
                                const portfolioValue = document.querySelector('.stat-card:nth-child(2) .stat-value');
                                const portfolioChange = document.querySelector('.stat-card:nth-child(2) .stat-change');
                                if (portfolioValue) portfolioValue.textContent = stat.main_value;
                                if (portfolioChange) portfolioChange.textContent = stat.change_text;
                                break;
                            case 'active_strategies':
                                const strategiesValue = document.querySelector('.stat-card:nth-child(3) .stat-value');
                                const strategiesChange = document.querySelector('.stat-card:nth-child(3) .stat-change');
                                if (strategiesValue) strategiesValue.textContent = stat.main_value;
                                if (strategiesChange) strategiesChange.textContent = stat.change_text;
                                break;
                            case 'success_rate':
                                const successValue = document.querySelector('.stat-card:nth-child(4) .stat-value');
                                const successChange = document.querySelector('.stat-card:nth-child(4) .stat-change');
                                if (successValue) successValue.textContent = stat.main_value;
                                if (successChange) successChange.textContent = stat.change_text;
                                break;
                        }
                    });
                }
            } catch (error) {
                console.error('Error loading homepage stats:', error);
            }
        }

        // Expose to global scope
        window.showStatsManagement = showStatsManagement;
        window.hideStatsManagement = hideStatsManagement;
        window.updateHomeStats = updateHomeStats;
        window.loadHomepageStats = loadHomepageStats;

        // ========== END STATS MANAGEMENT FUNCTIONS ==========

        // Load users from Firebase
        async function loadUsers() {
            if (!supabase) {
                console.error('Supabase not initialized');
                return;
            }

            const loadUserData = async () => {
                const { data: users, error } = await supabase
                    .from('users')
                    .select('*')
                    .order('created_timestamp', { ascending: false });

                if (error) {
                    console.error('Error loading users:', error);
                    return;
                }

                usersCache = users || [];
                renderUserList();
                updateUserStats();
            };

            // Initial load
            await loadUserData();

            // Subscribe to real-time changes
            supabase
                .channel('users-changes')
                .on('postgres_changes', {
                    event: '*',
                    schema: 'public',
                    table: 'users'
                }, () => {
                    loadUserData(); // Reload when changes occur
                })
                .subscribe();
        }

        // Update user statistics
        function updateUserStats() {
            const totalUsers = usersCache.length;
            const activeUsers = usersCache.filter(u => u.status === 'active').length;
            const adminUsers = usersCache.filter(u => u.role === 'admin').length;
            
            // Calculate new users this week
            const weekAgo = new Date();
            weekAgo.setDate(weekAgo.getDate() - 7);
            const newUsers = usersCache.filter(u => {
                const created = new Date(u.created);
                return created > weekAgo;
            }).length;

            // Update stats display
            document.getElementById('totalUsersCount').textContent = totalUsers;
            document.getElementById('activeUsersCount').textContent = activeUsers;
            document.getElementById('newUsersCount').textContent = newUsers;
            document.getElementById('adminUsersCount').textContent = adminUsers;
            
            // Update admin card stat
            const adminUserCountEl = document.getElementById('adminUserCount');
            if (adminUserCountEl) {
                adminUserCountEl.textContent = `${totalUsers} Total Users`;
            }
        }

        // Render user list
        function renderUserList(usersToRender = usersCache) {
            const userList = document.getElementById('userManagementList');
            if (!userList) return;

            if (usersToRender.length === 0) {
                userList.innerHTML = `
                    <div style="text-align: center; padding: 60px 20px; color: rgba(255,255,255,0.5);">
                        <div style="font-size: 48px; margin-bottom: 16px; opacity: 0.3;"></div>
                        <div style="font-size: 18px; margin-bottom: 8px;">No users found</div>
                        <div style="font-size: 14px; opacity: 0.7;">Create your first user to get started</div>
                    </div>
                `;
                return;
            }

            userList.innerHTML = usersToRender.map(user => `
                <div class="user-item">
                    <div class="user-item-header">
                        <div class="user-item-info">
                            <h4>${user.name}</h4>
                            <p>${user.email}</p>
                        </div>
                        <div class="user-actions">
                            <button class="user-action-btn" onclick="toggleUserStatus(${user.id})">
                                ${user.status === 'active' ? ' Deactivate' : ' Activate'}
                            </button>
                            <button class="user-action-btn danger" onclick="deleteUser(${user.id}, '${user.name.replace(/'/g, "\\'")}')">
                                 Delete
                            </button>
                        </div>
                    </div>
                    <div class="user-item-badges">
                        <span class="user-badge role">${user.role}</span>
                        <span class="user-badge status-${user.status}">${user.status}</span>
                    </div>
                    <div class="user-meta-grid">
                        <div class="user-meta-item">
                            <span class="user-meta-label">Username</span>
                            <span class="user-meta-value">${user.username}</span>
                        </div>
                        <div class="user-meta-item">
                            <span class="user-meta-label">Created</span>
                            <span class="user-meta-value">${new Date(user.created).toLocaleDateString()}</span>
                        </div>
                        <div class="user-meta-item">
                            <span class="user-meta-label">Last Login</span>
                            <span class="user-meta-value">${user.last_login || 'Never'}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Filter user list
        function filterUserList() {
            const searchTerm = document.getElementById('userSearchInput').value.toLowerCase();
            const filtered = usersCache.filter(user => 
                user.name.toLowerCase().includes(searchTerm) ||
                user.email.toLowerCase().includes(searchTerm) ||
                user.username.toLowerCase().includes(searchTerm)
            );
            renderUserList(filtered);
        }

        // Create new user
        async function createNewUser(event) {
            event.preventDefault();
            event.stopPropagation();

            if (!supabase) {
                alert(' Supabase not configured');
                return false;
            }

            const newUser = {
                name: document.getElementById('newUserName').value,
                email: document.getElementById('newUserEmail').value,
                username: document.getElementById('newUserUsername').value,
                password: document.getElementById('newUserPassword').value,
                role: document.getElementById('newUserRole').value,
                status: document.getElementById('newUserStatus').value,
                created: new Date().toISOString().split('T')[0],
                last_login: 'Never',
                created_timestamp: Date.now()
            };

            // Check for duplicate username or email
            const duplicate = usersCache.find(u => 
                u.username === newUser.username || u.email === newUser.email
            );

            if (duplicate) {
                if (duplicate.username === newUser.username) {
                    alert(' Username already exists. Please choose a different username.');
                } else {
                    alert(' Email already exists. Please use a different email.');
                }
                return false;
            }

            try {
                const { error } = await supabase
                    .from('users')
                    .insert([newUser]);

                if (error) {
                    console.error('Error creating user:', error);
                    alert(` Error creating user: ${error.message || 'Please try again.'}`);
                    return false;
                }
                
                // Clear form
                document.getElementById('createUserForm').reset();
                
                alert(` User created successfully!\n\nName: ${newUser.name}\nUsername: ${newUser.username}\nRole: ${newUser.role}\nStatus: ${newUser.status}`);
                return false;
            } catch (error) {
                console.error('Unexpected error creating user:', error);
                alert(' Unexpected error creating user. Check console for details.');
                return false;
            }
        }

        // Toggle user status
        async function toggleUserStatus(userId) {
            if (!supabase) return;

            const user = usersCache.find(u => u.id === userId);
            if (!user) return;

            const newStatus = user.status === 'active' ? 'inactive' : 'active';
            
            const { error } = await supabase
                .from('users')
                .update({ status: newStatus })
                .eq('id', userId);

            if (error) {
                console.error('Error updating user:', error);
                alert(' Error updating user status');
                return;
            }

            alert(` User status updated!\n\n${user.name} is now ${newStatus}.`);
        }

        // Delete user
        async function deleteUser(userId, userName) {
            if (!supabase) return;

            const confirmed = confirm(
                ` Delete User Account?\n\n` +
                `Name: ${userName}\n\n` +
                `This will permanently delete all user data and revoke access.\n\n` +
                `This action cannot be undone. Continue?`
            );

            if (!confirmed) return;

            const { error } = await supabase
                .from('users')
                .delete()
                .eq('id', userId);

            if (error) {
                console.error('Error deleting user:', error);
                alert(' Error deleting user. Please try again.');
                return;
            }

            alert(` User deleted successfully!\n\n${userName} has been removed from the system.`);
        }

        // Load announcements from Firebase
        // Current active channel
        let currentChannel = 'general-updates';

        // Switch between channels
        function switchChannel(channelName) {
            currentChannel = channelName;
            
            // Update sidebar channel active states
            document.querySelectorAll('.slack-channel-item').forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-channel') === channelName) {
                    item.classList.add('active');
                }
            });
            
            // Hide all message containers
            document.querySelectorAll('.slack-messages-container').forEach(container => {
                container.style.display = 'none';
            });
            
            // Show selected channel messages
            document.getElementById(`slack-messages-${channelName}`).style.display = 'block';
            
            // Update channel header
            const channelNames = {
                'general-updates': 'general-updates',
                'algo-recaps': 'algo-recaps',
                'algo-stats': 'algorithm-stats',
                'algo-announcements': 'algo-announcements'
            };
            
            const channelDescriptions = {
                'general-updates': 'Latest platform updates and announcements',
                'algo-recaps': 'Daily algorithm performance recaps and insights',
                'algo-stats': 'Real-time algorithm statistics and performance data',
                'algo-announcements': 'Important algorithm updates and notifications'
            };
            
            document.getElementById('currentChannelName').textContent = channelNames[channelName];
            document.getElementById('currentChannelDesc').textContent = channelDescriptions[channelName];
            
            // Load messages for this channel if not already loaded
            loadChannelMessages(channelName);
        }

        // Load messages for a specific channel
        function loadChannelMessages(channelName) {
            if (!supabase) {
                console.error('Supabase not initialized');
                return;
            }

            const messagesContainer = document.getElementById(`messages-${channelName}`);
            if (!messagesContainer) return;

            // Load and subscribe to announcements in this channel in real-time
            const loadMessages = async () => {
                const { data: announcements, error } = await supabase
                    .from('announcements')
                    .select('*')
                    .eq('channel', channelName)
                    .order('timestamp', { ascending: false });

                if (error) {
                    console.error('Error loading messages:', error);
                    return;
                }

                messagesContainer.innerHTML = '';

                if (!announcements || announcements.length === 0) {
                    messagesContainer.innerHTML = `
                        <div style="text-align: center; padding: 60px 20px; color: rgba(255,255,255,0.5);">
                            <div style="font-size: 48px; margin-bottom: 16px; opacity: 0.3;"></div>
                            <div style="font-size: 18px; margin-bottom: 8px;">No messages yet</div>
                            <div style="font-size: 14px; opacity: 0.7;">Check back soon for updates</div>
                        </div>
                    `;
                    return;
                }

                // Display messages (already sorted newest first)
                announcements.forEach(announcement => {
                    const messageDiv = document.createElement('div');
                    messageDiv.className = 'message';
                    const authorName = announcement.author_name || 'Profit Insider Team';
                    const authorIcon = announcement.author_icon || '';
                    const avatarDisplay = authorIcon === 'PI' 
                        ? '<img src="PIlogo.png" style="width: 24px; height: 24px; object-fit: contain;" />'
                        : authorIcon;
                    
                    // Detect links in the message
                    const links = detectLinks(announcement.message);
                    let linkPreviews = '';
                    
                    if (links.length > 0) {
                        // Generate previews for all detected links
                        linkPreviews = links.map(link => generateLinkPreview(link)).join('');
                    }
                    
                    messageDiv.innerHTML = `
                        <div class="message-avatar">
                            <div class="avatar-icon-emoji">${avatarDisplay}</div>
                        </div>
                        <div class="message-content">
                            <div class="message-header">
                                <span class="message-author">${authorName}</span>
                                <span class="message-badge">Admin</span>
                                <span class="message-timestamp">${announcement.timestamp_display}</span>
                            </div>
                            <div class="message-body">
                                <p><strong>${announcement.emoji || ''} ${announcement.title}</strong></p>
                                <p>${announcement.message}</p>
                                ${linkPreviews}
                            </div>
                            <div class="message-reactions">
                                <div class="reaction" onclick="reactToMessage('${channelName}', ${announcement.id}, 'thumbsup')">
                                     <span id="reaction-${announcement.id}-thumbsup">${announcement.reaction_thumbsup || 0}</span>
                                </div>
                                <div class="reaction" onclick="reactToMessage('${channelName}', ${announcement.id}, 'fire')">
                                     <span id="reaction-${announcement.id}-fire">${announcement.reaction_fire || 0}</span>
                                </div>
                                <div class="reaction" onclick="reactToMessage('${channelName}', ${announcement.id}, 'rocket')">
                                     <span id="reaction-${announcement.id}-rocket">${announcement.reaction_rocket || 0}</span>
                                </div>
                            </div>
                        </div>
                    `;
                    messagesContainer.appendChild(messageDiv);
                });
            };

            // Initial load
            loadMessages();

            // Subscribe to real-time changes
            const subscription = supabase
                .channel(`announcements-${channelName}`)
                .on('postgres_changes', {
                    event: '*',
                    schema: 'public',
                    table: 'announcements',
                    filter: `channel=eq.${channelName}`
                }, () => {
                    loadMessages(); // Reload when changes occur
                })
                .subscribe();
        }

        // React to a message
        async function reactToMessage(channelName, messageId, reactionType) {
            if (!supabase) return;

            const columnName = `reaction_${reactionType}`;
            
            // Get current announcement
            const { data: announcement, error: fetchError } = await supabase
                .from('announcements')
                .select(columnName)
                .eq('id', messageId)
                .single();

            if (fetchError) {
                console.error('Error fetching announcement:', fetchError);
                return;
            }

            // Increment reaction count
            const currentCount = announcement[columnName] || 0;
            const { error: updateError } = await supabase
                .from('announcements')
                .update({ [columnName]: currentCount + 1 })
                .eq('id', messageId);

            if (updateError) {
                console.error('Error updating reaction:', updateError);
                return;
            }

            // Update UI immediately
            const reactionSpan = document.getElementById(`reaction-${messageId}-${reactionType}`);
            if (reactionSpan) {
                reactionSpan.textContent = currentCount + 1;
            }
        }


        // Initialize - load general-updates channel by default
        function loadAnnouncements() {
            loadChannelMessages('general-updates');
            // Also update recent announcements in admin panel
            loadRecentAnnouncements();
            // Load algorithm stats for homepage
            loadAlgorithmStatsPreview();
        }

        // Load algorithm stats preview for homepage
        async function loadAlgorithmStatsPreview() {
            if (!supabase) return;

            const statsFeed = document.getElementById('algoStatsFeed');
            if (!statsFeed) return;

            try {
                const { data: stats, error } = await supabase
                    .from('announcements')
                    .select('*')
                    .eq('channel', 'algo-stats')
                    .order('timestamp', { ascending: false })
                    .limit(5); // Show last 5 stats posts

                if (error) throw error;

                if (!stats || stats.length === 0) {
                    statsFeed.innerHTML = `
                        <div class="loading-stats">
                            <div style="font-size: 48px; opacity: 0.3; margin-bottom: 16px;"></div>
                            <p>No algorithm stats posted yet</p>
                            <p style="font-size: 13px; margin-top: 8px; opacity: 0.6;">Check back soon for daily updates</p>
                        </div>
                    `;
                    return;
                }

                // Render stats messages
                statsFeed.innerHTML = '';
                stats.forEach(stat => {
                    const messageDiv = document.createElement('div');
                    messageDiv.className = 'slack-message';
                    
                    const timestamp = new Date(stat.timestamp);
                    const timeString = timestamp.toLocaleString('en-US', {
                        month: 'short',
                        day: 'numeric',
                        hour: 'numeric',
                        minute: '2-digit',
                        hour12: true
                    });

                    messageDiv.innerHTML = `
                        <div class="message-avatar">
                            <div class="profile-icon-display">${stat.profile_icon || ''}</div>
                        </div>
                        <div class="message-content">
                            <div class="message-header">
                                <span class="message-author">${stat.profile_name || 'Profit Insider Team'}</span>
                                <span class="message-time">${timeString}</span>
                            </div>
                            <div class="message-body">
                                <div class="message-title">${stat.title || ''}</div>
                                <div class="message-text">${stat.message || ''}</div>
                            </div>
                        </div>
                    `;
                    
                    statsFeed.appendChild(messageDiv);
                });

            } catch (error) {
                console.error('Error loading algorithm stats:', error);
                statsFeed.innerHTML = `
                    <div class="loading-stats">
                        <p style="color: rgba(220, 38, 38, 0.8);">Error loading stats</p>
                        <p style="font-size: 13px; margin-top: 8px;">Please try again later</p>
                    </div>
                `;
            }
        }

        // Load recent announcements for admin panel
        async function loadRecentAnnouncements() {
            if (!supabase) return;

            const recentList = document.getElementById('recentAnnouncementsList');
            if (!recentList) return;

            // Load from all channels
            const { data: announcements, error } = await supabase
                .from('announcements')
                .select('*')
                .order('timestamp', { ascending: false })
                .limit(10);

            if (error) {
                console.error('Error loading recent announcements:', error);
                return;
            }

            if (!announcements || announcements.length === 0) {
                recentList.innerHTML = `
                    <div style="text-align: center; padding: 40px 20px; color: rgba(255,255,255,0.5);">
                        <div style="font-size: 36px; margin-bottom: 12px; opacity: 0.3;"></div>
                        <div style="font-size: 14px;">No announcements yet</div>
                    </div>
                `;
                return;
            }

            recentList.innerHTML = '';
            announcements.forEach(announcement => {
                const recentItem = document.createElement('div');
                recentItem.className = 'recent-item';
                recentItem.style.cssText = 'display: flex; justify-content: space-between; align-items: center; gap: 12px;';
                recentItem.innerHTML = `
                    <div style="display: flex; gap: 16px; align-items: center; flex: 1;">
                        <div class="recent-icon">${announcement.emoji || ''}</div>
                        <div class="recent-content">
                            <div class="recent-title">${announcement.title} <span style="color: rgba(255,215,0,0.6); font-size: 12px;">#${announcement.channel}</span></div>
                            <div class="recent-time">${announcement.timestamp_display}</div>
                        </div>
                    </div>
                    <button 
                        onclick="deleteAnnouncement('${announcement.channel}', ${announcement.id}, '${announcement.title.replace(/'/g, "\\'")}')" 
                        style="padding: 8px 12px; background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 8px; color: #ef4444; font-size: 12px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; white-space: nowrap;"
                        onmouseover="this.style.background='rgba(239, 68, 68, 0.2)'; this.style.borderColor='rgba(239, 68, 68, 0.5)';"
                        onmouseout="this.style.background='rgba(239, 68, 68, 0.1)'; this.style.borderColor='rgba(239, 68, 68, 0.3)';"
                    >
                         Delete
                    </button>
                `;
                recentList.appendChild(recentItem);
            });
        }

        // Delete announcement function
        async function deleteAnnouncement(channelName, announcementId, announcementTitle) {
            if (!supabase) {
                alert(' Supabase not configured');
                return;
            }

            const confirmed = confirm(
                ` Delete Announcement?\n\n` +
                `Title: "${announcementTitle}"\n` +
                `Channel: #${channelName}\n\n` +
                `This will permanently delete this announcement for all users.\n\n` +
                `This action cannot be undone. Continue?`
            );

            if (!confirmed) return;

            const { error } = await supabase
                .from('announcements')
                .delete()
                .eq('id', announcementId);

            if (error) {
                console.error('Error deleting announcement:', error);
                alert(' Error deleting announcement. Please try again.');
                return;
            }

            alert(` Announcement deleted successfully!\n\n"${announcementTitle}" has been removed from #${channelName}.`);
            loadRecentAnnouncements(); // Reload the list
        }

        // Send announcement function
        // ============================================
        // OMNISEND NOTIFICATION FUNCTIONS
        // ============================================
        
        async function sendOmnisendNotifications(title, message, channel, emoji, sendEmail, sendWebPush) {
            try {
                // Fetch all active users with emails
                const { data: users, error } = await supabase
                    .from('users')
                    .select('email, name')
                    .eq('status', 'active')
                    .not('email', 'is', null);

                if (error) {
                    console.error('Error fetching users:', error);
                    return;
                }

                if (!users || users.length === 0) {
                    console.log('No active users with emails found');
                    return;
                }

                console.log(`Sending notifications to ${users.length} users...`);

                // Format channel name
                const channelName = channel.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
                
                // Clean message (remove HTML tags for notifications)
                const cleanMessage = message.replace(/<br>/g, '\n').replace(/<[^>]*>/g, '');

                // Send email notifications
                if (sendEmail) {
                    for (const user of users) {
                        await sendOmnisendEmail(user.email, user.name, title, cleanMessage, channel, channelName, emoji);
                    }
                }

                // Send web push notifications
                if (sendWebPush) {
                    await sendOmnisendWebPush(title, cleanMessage, channel, channelName, emoji);
                }

                console.log(' Omnisend notifications sent successfully');
            } catch (error) {
                console.error('Error sending Omnisend notifications:', error);
            }
        }

        async function sendOmnisendEmail(email, name, title, message, channel, channelName, emoji) {
            try {
                const firstName = name ? name.split(' ')[0] : 'there';
                
                const response = await fetch('https://api.omnisend.com/v3/messages', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-API-KEY': OMNISEND_API_KEY
                    },
                    body: JSON.stringify({
                        email: {
                            to: [{ email: email }],
                            subject: `${emoji} ${title} - Profit Insider`,
                            content: {
                                html: `
                                    <!DOCTYPE html>
                                    <html>
                                    <head>
                                        <style>
                                            body { font-family: Arial, sans-serif; background-color: #0a0a0a; color: #ffffff; margin: 0; padding: 0; }
                                            .container { max-width: 600px; margin: 0 auto; background: #1a1a1a; border: 2px solid rgba(255, 215, 0, 0.3); border-radius: 16px; overflow: hidden; }
                                            .header { background: linear-gradient(135deg, #FFD700, #FFC107); padding: 30px; text-align: center; }
                                            .header h1 { margin: 0; color: #0a0a0a; font-size: 24px; }
                                            .content { padding: 40px 30px; }
                                            .announcement-box { background: rgba(255, 215, 0, 0.1); border: 1px solid rgba(255, 215, 0, 0.3); border-radius: 12px; padding: 24px; margin: 20px 0; }
                                            .emoji { font-size: 48px; margin-bottom: 16px; }
                                            .title { color: #FFD700; font-size: 20px; font-weight: bold; margin-bottom: 12px; }
                                            .message { color: rgba(255, 255, 255, 0.9); font-size: 16px; line-height: 1.6; white-space: pre-wrap; }
                                            .channel-badge { display: inline-block; background: rgba(255, 215, 0, 0.2); color: #FFD700; padding: 6px 12px; border-radius: 6px; font-size: 12px; font-weight: bold; margin-top: 16px; }
                                            .cta-button { display: inline-block; background: linear-gradient(135deg, #FFD700, #FFC107); color: #0a0a0a; padding: 14px 32px; border-radius: 8px; text-decoration: none; font-weight: bold; margin-top: 24px; }
                                            .footer { background: rgba(26, 26, 26, 0.5); padding: 20px; text-align: center; color: rgba(255, 255, 255, 0.5); font-size: 12px; }
                                        </style>
                                    </head>
                                    <body>
                                        <div class="container">
                                            <div class="header">
                                                <h1>${emoji} New Announcement</h1>
                                            </div>
                                            <div class="content">
                                                <p style="color: rgba(255, 255, 255, 0.8); font-size: 16px;">Hi ${firstName},</p>
                                                <p style="color: rgba(255, 255, 255, 0.7); font-size: 14px;">A new announcement has been posted in Profit Insider:</p>
                                                
                                                <div class="announcement-box">
                                                    <div class="title">${title}</div>
                                                    <div class="message">${message}</div>
                                                    <div class="channel-badge">#${channel}</div>
                                                </div>
                                                
                                                <center>
                                                    <a href="https://clientportal.profit-insiders.com" class="cta-button">
                                                        View in Dashboard 
                                                    </a>
                                                </center>
                                            </div>
                                            <div class="footer">
                                                <p> ${new Date().getFullYear()} Profit Insider. All rights reserved.</p>
                                                <p style="margin-top: 8px;">You're receiving this because you're an active member of the Profit Insider platform.</p>
                                            </div>
                                        </div>
                                    </body>
                                    </html>
                                `
                            }
                        }
                    })
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    console.error('Omnisend email error:', errorData);
                }
            } catch (error) {
                console.error('Error sending Omnisend email:', error);
            }
        }

        async function sendOmnisendWebPush(title, message, channel, channelName, emoji) {
            try {
                // Omnisend Web Push Notification
                const response = await fetch('https://api.omnisend.com/v3/push', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-API-KEY': OMNISEND_API_KEY
                    },
                    body: JSON.stringify({
                        title: `${emoji} ${title}`,
                        message: message.substring(0, 120) + (message.length > 120 ? '...' : ''),
                        url: 'https://clientportal.profit-insiders.com',
                        image: 'https://clientportal.profit-insiders.com/PIlogo.png', // Optional: Add your logo URL
                        badge: emoji,
                        tag: `announcement-${Date.now()}`,
                        // Send to all subscribed users
                        audience: {
                            type: 'all'
                        }
                    })
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    console.error('Omnisend web push error:', errorData);
                }
            } catch (error) {
                console.error('Error sending Omnisend web push:', error);
            }
        }

        // ============================================
        // SEND ANNOUNCEMENT
        // ============================================
        
        async function sendAnnouncement(event) {
            event.preventDefault();
            event.stopPropagation();

            if (!supabase) {
                alert(' Supabase not configured. Please check your Supabase settings.');
                return false;
            }
            
            const title = document.getElementById('announcementTitle').value;
            const message = document.getElementById('announcementMessage').value;
            const emoji = document.getElementById('announcementEmoji').value || '';
            const channel = document.getElementById('announcementChannel').value;
            const sendEmail = document.getElementById('sendEmailNotification').checked;
            const sendWebPush = document.getElementById('sendWebPushNotification').checked;
            
            // Get current timestamp
            const now = new Date();
            const timeString = now.toLocaleString('en-US', { 
                month: 'short', 
                day: 'numeric',
                hour: 'numeric',
                minute: '2-digit',
                hour12: true 
            });

            // Create announcement object
            const announcement = {
                title: title,
                message: message.replace(/\n/g, '<br>'),
                emoji: emoji,
                channel: channel,
                timestamp: Date.now(),
                timestamp_display: timeString,
                reaction_thumbsup: 0,
                reaction_fire: 0,
                reaction_rocket: 0,
                author_name: currentSelectedProfile.name,
                author_icon: currentSelectedProfile.icon
            };

            try {
                // Save to Supabase
                const { error } = await supabase
                    .from('announcements')
                    .insert([announcement]);

                if (error) {
                    console.error('Error sending announcement:', error);
                    
                    // Check if columns don't exist
                    if (error.message && error.message.includes('column') && error.message.includes('does not exist')) {
                        alert(' Database not set up for profiles yet.\n\nPlease run the SQL from PROFILE_ICONS_SETUP.md first.');
                    } else {
                        alert(` Error sending announcement: ${error.message}`);
                    }
                    return false;
                }

                // Send Omnisend notifications if requested
                if ((sendEmail || sendWebPush) && OMNISEND_ENABLED) {
                    await sendOmnisendNotifications(title, message, channel, emoji, sendEmail, sendWebPush);
                } else if ((sendEmail || sendWebPush) && !OMNISEND_ENABLED) {
                    alert(' Omnisend notifications requested but API key not configured.\n\nPlease add your Omnisend API key in the code.');
                }

                // Clear form
                document.getElementById('announcementForm').reset();
                
                // Show success message
                let successMsg = ` Announcement sent successfully!\n\nChannel: #${channel}\n\n This announcement will appear on ALL devices in real-time!`;
                
                if (sendEmail && OMNISEND_ENABLED) {
                    successMsg += '\n\n Email notifications sent!';
                }
                if (sendWebPush && OMNISEND_ENABLED) {
                    successMsg += '\n\n Web push notifications sent!';
                }
                
                alert(successMsg);
                return false;
            } catch (err) {
                console.error('Unexpected error sending announcement:', err);
                alert(' Unexpected error. Check console for details.');
                return false;
            }
        }

        // Load announcements and users when DOM is ready
        loadAnnouncements();
        loadUsers(); // Load users for user management

        // ============================================
        // LINK PREVIEW HANDLING
        // ============================================
        
        // Detect URLs in text
        function detectLinks(text) {
            const urlRegex = /(https?:\/\/[^\s]+)/g;
            return text.match(urlRegex) || [];
        }

        // Generate link preview HTML
        function generateLinkPreview(url) {
            // Extract domain for display
            let domain = '';
            try {
                const urlObj = new URL(url);
                domain = urlObj.hostname.replace('www.', '');
            } catch (e) {
                domain = url;
            }

            // Special handling for known platforms
            if (url.includes('loom.com')) {
                return generateLoomPreview(url);
            } else if (url.includes('youtube.com') || url.includes('youtu.be')) {
                return generateYouTubePreview(url);
            } else if (url.includes('twitter.com') || url.includes('x.com')) {
                return generateTwitterPreview(url);
            } else {
                return generateGenericPreview(url, domain);
            }
        }

        function generateLoomPreview(url) {
            // Extract Loom video ID
            const match = url.match(/loom\.com\/share\/([a-zA-Z0-9]+)/);
            const videoId = match ? match[1] : null;
            
            return `
                <div class="link-preview">
                    ${videoId ? `
                        <iframe 
                            src="https://www.loom.com/embed/${videoId}" 
                            frameborder="0" 
                            webkitallowfullscreen 
                            mozallowfullscreen 
                            allowfullscreen 
                            style="width: 100%; height: 320px;">
                        </iframe>
                    ` : ''}
                    <div class="link-preview-content">
                        <div class="link-preview-title"> Loom Video</div>
                        <a href="${url}" target="_blank" class="link-preview-url">
                            <span></span>
                            <span>Watch on loom.com</span>
                        </a>
                    </div>
                </div>
            `;
        }

        function generateYouTubePreview(url) {
            let videoId = '';
            
            if (url.includes('youtu.be/')) {
                videoId = url.split('youtu.be/')[1].split('?')[0];
            } else if (url.includes('youtube.com/watch')) {
                const urlObj = new URL(url);
                videoId = urlObj.searchParams.get('v');
            }
            
            return `
                <div class="link-preview">
                    ${videoId ? `
                        <iframe 
                            width="100%" 
                            height="320" 
                            src="https://www.youtube.com/embed/${videoId}" 
                            frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                            allowfullscreen>
                        </iframe>
                    ` : ''}
                    <div class="link-preview-content">
                        <div class="link-preview-title"> YouTube Video</div>
                        <a href="${url}" target="_blank" class="link-preview-url">
                            <span></span>
                            <span>Watch on youtube.com</span>
                        </a>
                    </div>
                </div>
            `;
        }

        function generateTwitterPreview(url) {
            return `
                <div class="link-preview">
                    <div class="link-preview-content">
                        <div class="link-preview-title"> Twitter / X Post</div>
                        <a href="${url}" target="_blank" class="link-preview-url">
                            <span></span>
                            <span>x.com</span>
                        </a>
                    </div>
                </div>
            `;
        }

        function generateGenericPreview(url, domain) {
            return `
                <div class="link-preview">
                    <div class="link-preview-content">
                        <div class="link-preview-title"> Link</div>
                        <a href="${url}" target="_blank" class="link-preview-url">
                            <span></span>
                            <span>${domain}</span>
                        </a>
                    </div>
                </div>
            `;
        }

        // ============================================
        // ICON PICKER FOR PROFILES
        // ============================================
        
        function toggleIconPicker() {
            const dropdown = document.getElementById('iconPickerDropdown');
            dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
        }

        function showIconCategory(category) {
            // Hide all icon grids
            document.getElementById('peopleIcons').style.display = 'none';
            document.getElementById('businessIcons').style.display = 'none';
            document.getElementById('techIcons').style.display = 'none';
            
            // Show selected category
            document.getElementById(category + 'Icons').style.display = 'grid';
            
            // Update tab states
            document.getElementById('peopleTab').classList.remove('active');
            document.getElementById('businessTab').classList.remove('active');
            document.getElementById('techTab').classList.remove('active');
            document.getElementById(category + 'Tab').classList.add('active');
        }

        function selectIcon(icon) {
            document.getElementById('selectedIcon').value = icon;
            
            // Handle PI logo specially
            if (icon === 'PI') {
                document.getElementById('selectedIconPreview').innerHTML = '<img src="PIlogo.png" style="width: 32px; height: 32px; object-fit: contain;" />';
            } else {
                document.getElementById('selectedIconPreview').textContent = icon;
            }
            
            document.getElementById('iconPickerDropdown').style.display = 'none';
        }

        // ============================================
        // ADMIN PROFILE MANAGEMENT
        // ============================================
        
        let currentSelectedProfile = {
            name: 'Profit Insider Team',
            icon: ''
        };

        function showProfileManager() {
            const modal = document.getElementById('profileManagerModal');
            modal.classList.add('active');
            loadAnnouncementProfiles();
        }

        function hideProfileManager() {
            const modal = document.getElementById('profileManagerModal');
            modal.classList.remove('active');
        }

        async function loadAnnouncementProfiles() {
            if (!supabase) return;

            const { data: profiles, error } = await supabase
                .from('announcement_profiles')
                .select('*')
                .order('created_at', { ascending: false });

            if (error) {
                console.error('Error loading profiles:', error);
                return;
            }

            const profilesList = document.getElementById('profilesList');
            profilesList.innerHTML = '';

            // Add default profile
            const defaultProfile = document.createElement('div');
            const isDefaultSelected = currentSelectedProfile.name === 'Profit Insider Team';
            defaultProfile.className = 'profile-item' + (isDefaultSelected ? ' selected' : '');
            defaultProfile.innerHTML = `
                <div class="profile-item-avatar">
                    <div class="profile-icon-display"></div>
                </div>
                <div class="profile-item-info">
                    <div class="profile-item-name">Profit Insider Team</div>
                    <div class="profile-item-meta">Default Profile</div>
                </div>
                <div class="profile-item-actions">
                    <button class="profile-select-btn" onclick="selectProfile('Profit Insider Team', '')">
                        Select
                    </button>
                </div>
            `;
            profilesList.appendChild(defaultProfile);

            // Add custom profiles
            if (profiles && profiles.length > 0) {
                profiles.forEach(profile => {
                    const profileItem = document.createElement('div');
                    const isSelected = currentSelectedProfile.name === profile.name;
                    const iconDisplay = profile.icon === 'PI' 
                        ? '<img src="PIlogo.png" style="width: 28px; height: 28px; object-fit: contain;" />'
                        : profile.icon || '';
                    
                    profileItem.className = 'profile-item' + (isSelected ? ' selected' : '');
                    profileItem.innerHTML = `
                        <div class="profile-item-avatar">
                            <div class="profile-icon-display">${iconDisplay}</div>
                        </div>
                        <div class="profile-item-info">
                            <div class="profile-item-name">${profile.name}</div>
                            <div class="profile-item-meta">Created ${new Date(profile.created_at).toLocaleDateString()}</div>
                        </div>
                        <div class="profile-item-actions">
                            <button class="profile-select-btn" onclick="selectProfile('${profile.name.replace(/'/g, "\\'")}', '${profile.icon || ''}')">
                                Select
                            </button>
                            <button class="profile-delete-btn" onclick="deleteAnnouncementProfile(${profile.id}, '${profile.name.replace(/'/g, "\\'")}')">
                                Delete
                            </button>
                        </div>
                    `;
                    profilesList.appendChild(profileItem);
                });
            }
        }

        function selectProfile(name, icon) {
            currentSelectedProfile = { name, icon };
            
            // Update current profile display
            document.getElementById('currentProfileName').textContent = name;
            
            // Handle PI logo display
            const iconElement = document.getElementById('currentProfileIcon');
            if (icon === 'PI') {
                iconElement.innerHTML = '<img src="PIlogo.png" style="width: 32px; height: 32px; object-fit: contain;" />';
            } else {
                iconElement.textContent = icon;
            }
            
            // Update selected state in modal
            document.querySelectorAll('.profile-item').forEach(item => {
                item.classList.remove('selected');
            });
            event.target.closest('.profile-item').classList.add('selected');
            
            alert(` Profile selected: ${name}\n\nAll new announcements will be posted as "${name}"`);
        }

        async function createAnnouncementProfile(event) {
            event.preventDefault();
            event.stopPropagation();

            if (!supabase) {
                alert(' Supabase not configured');
                return false;
            }

            const name = document.getElementById('profileName').value;
            const icon = document.getElementById('selectedIcon').value || '';

            const newProfile = {
                name: name,
                icon: icon,
                created_at: new Date().toISOString()
            };

            try {
                const { data, error } = await supabase
                    .from('announcement_profiles')
                    .insert([newProfile])
                    .select()
                    .single();

                if (error) {
                    console.error('Error creating profile:', error);
                    
                    // Check if table doesn't exist
                    if (error.message && error.message.includes('relation') && error.message.includes('does not exist')) {
                        alert(' Profile table not set up yet.\n\nPlease run the SQL from PROFILE_ICONS_SETUP.md first.');
                    } else {
                        alert(` Error creating profile: ${error.message}`);
                    }
                    return false;
                }

                // Clear form
                document.getElementById('createProfileForm').reset();
                document.getElementById('selectedIcon').value = '';
                document.getElementById('selectedIconPreview').textContent = '';
                
                // Reload profiles list
                loadAnnouncementProfiles();
                
                alert(` Profile created successfully!\n\nName: ${name}\nIcon: ${icon}\n\nYou can now select this profile when posting announcements.`);
                return false;
            } catch (err) {
                console.error('Unexpected error:', err);
                alert(' Unexpected error creating profile. Check console for details.');
                return false;
            }
        }

        async function deleteAnnouncementProfile(profileId, profileName) {
            if (!supabase) return;

            const confirmed = confirm(
                ` Delete Announcement Profile?\n\n` +
                `Profile: "${profileName}"\n\n` +
                `This will permanently delete this profile.\n\n` +
                `This action cannot be undone. Continue?`
            );

            if (!confirmed) return;

            const { error } = await supabase
                .from('announcement_profiles')
                .delete()
                .eq('id', profileId);

            if (error) {
                console.error('Error deleting profile:', error);
                alert(' Error deleting profile. Please try again.');
                return;
            }

            // If deleted profile was selected, switch to default
            if (currentSelectedProfile.name === profileName) {
                selectProfile('Profit Insider Team', '');
            }

            loadAnnouncementProfiles();
            alert(` Profile deleted successfully!\n\n"${profileName}" has been removed.`);
        }

        // ============================================
        // MAKE FUNCTIONS GLOBALLY ACCESSIBLE
        // (Required for onclick handlers in HTML)
        // ============================================
        window.showUserManagement = showUserManagement;
        window.hideUserManagement = hideUserManagement;
        window.showAdminAnnouncements = showAdminAnnouncements;
        window.hideAdminAnnouncements = hideAdminAnnouncements;
        window.deleteUser = deleteUser;
        window.toggleUserStatus = toggleUserStatus;
        window.deleteAnnouncement = deleteAnnouncement;
        window.reactToMessage = reactToMessage;
        window.switchChannel = switchChannel;
        window.navigateToPage = navigateToPage;
        window.showVideoDetail = showVideoDetail;
        window.logout = logout;
        window.logoutAdmin = logoutAdmin;
        window.navigateToPage = navigateToPage;
        window.openChatSupport = openChatSupport;
        window.sendAnnouncement = sendAnnouncement;
        window.createNewUser = createNewUser;
        window.filterUserList = filterUserList;
        window.showProfileManager = showProfileManager;
        window.hideProfileManager = hideProfileManager;
        window.selectProfile = selectProfile;
        window.createAnnouncementProfile = createAnnouncementProfile;
        window.deleteAnnouncementProfile = deleteAnnouncementProfile;
        window.toggleIconPicker = toggleIconPicker;
        window.showIconCategory = showIconCategory;
        window.selectIcon = selectIcon;
        window.toggleFAQ = toggleFAQ;
        window.filterFAQCategory = filterFAQCategory;
        window.searchFAQs = searchFAQs;

        // Load saved preferences on page load
        loadPreferences();

        }); // End of DOMContentLoaded wrapper
    </script>

    <!-- Admin Page -->
    <div id="adminPage" class="admin-page">
        <div class="admin-header">
            <div class="admin-logo">
                <div class="pi-icon-admin"><img src="PIlogo.png" alt="PI"></div>
                <h1>Admin Dashboard</h1>
            </div>
            <button class="admin-logout" onclick="logoutAdmin()">Logout</button>
        </div>
        
        <div class="admin-content">
            <div class="admin-welcome">
                <h2>Welcome, Administrator</h2>
                <p>You have full access to system controls and analytics.</p>
            </div>
            
            <div class="admin-grid">
                <div class="admin-card" onclick="showAdminAnnouncements()">
                    <div class="admin-card-icon"></div>
                    <h3>PiChat</h3>
                    <p>Send messages to all users</p>
                    <div class="admin-stat">Manage Updates</div>
                </div>

                <div class="admin-card" onclick="showUserManagement()">
                    <div class="admin-card-icon"></div>
                    <h3>User Management</h3>
                    <p>Manage client accounts and permissions</p>
                    <div class="admin-stat" id="adminUserCount">Loading...</div>
                </div>

                <div class="admin-card" onclick="showMediaManagement()">
                    <div class="admin-card-icon"></div>
                    <h3>Media Management</h3>
                    <p>Add and manage video library content</p>
                    <div class="admin-stat" id="adminVideoCount">Loading...</div>
                </div>

                <div class="admin-card" onclick="showStatsManagement()">
                    <div class="admin-card-icon"></div>
                    <h3>Stats Management</h3>
                    <p>Update homepage statistics cards</p>
                    <div class="admin-stat">4 Stats Cards</div>
                </div>
                
                <div class="admin-card">
                    <div class="admin-card-icon"></div>
                    <h3>System Settings</h3>
                    <p>Configure platform parameters</p>
                    <div class="admin-stat">All Systems Operational</div>
                </div>
                
                <div class="admin-card">
                    <div class="admin-card-icon"></div>
                    <h3>Security</h3>
                    <p>Monitor security logs and alerts</p>
                    <div class="admin-stat">No Threats Detected</div>
                </div>
                
                <div class="admin-card">
                    <div class="admin-card-icon"></div>
                    <h3>Revenue</h3>
                    <p>Track platform revenue and subscriptions</p>
                    <div class="admin-stat">$2.4M This Month</div>
                </div>
                
                <div class="admin-card">
                    <div class="admin-card-icon"></div>
                    <h3>Performance</h3>
                    <p>Algorithm performance metrics</p>
                    <div class="admin-stat">+23.5% Growth</div>
                </div>
            </div>
            
            <div class="admin-actions">
                <button class="admin-btn admin-btn-primary">Generate Report</button>
                <button class="admin-btn admin-btn-secondary">Export Data</button>
                <button class="admin-btn admin-btn-secondary">System Maintenance</button>
            </div>
        </div>

        <!-- Admin Announcements Section -->
        <div class="admin-announcements-section" id="adminAnnouncementsSection">
            <div class="admin-announcements-header">
                <button class="admin-back-btn" onclick="hideAdminAnnouncements()"> Back to Dashboard</button>
                <h2>Manage Announcements</h2>
            </div>

            <div class="admin-announcements-content">
                <!-- Admin Profile Selector -->
                <div class="admin-profile-card">
                    <h3> Select Announcement Profile</h3>
                    <div class="profile-selector-container">
                        <div class="current-profile-display">
                            <div class="profile-avatar" id="currentProfileAvatar">
                                <div class="profile-icon-display" id="currentProfileIcon"></div>
                            </div>
                            <div class="profile-info">
                                <div class="profile-name" id="currentProfileName">Profit Insider Team</div>
                                <div class="profile-role">Default Profile</div>
                            </div>
                            <button class="profile-manage-btn" onclick="showProfileManager()">
                                 Manage Profiles
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Send New Announcement Form -->
                <div class="send-announcement-card">
                    <h3> Send New Announcement</h3>
                    <form id="announcementForm" onsubmit="sendAnnouncement(event)">
                        <div class="form-group">
                            <label for="announcementTitle">Title / Subject</label>
                            <input 
                                type="text" 
                                id="announcementTitle" 
                                class="form-input" 
                                placeholder="e.g., New Feature Alert!" 
                                required
                            />
                        </div>

                        <div class="form-group">
                            <label for="announcementMessage">Message</label>
                            <textarea 
                                id="announcementMessage" 
                                class="form-textarea" 
                                placeholder="Type your announcement message here..."
                                rows="6"
                                required
                            ></textarea>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="announcementEmoji">Emoji (optional)</label>
                                <input 
                                    type="text" 
                                    id="announcementEmoji" 
                                    class="form-input" 
                                    placeholder="" 
                                    maxlength="2"
                                />
                            </div>

                            <div class="form-group">
                                <label for="announcementChannel">Channel</label>
                                <select id="announcementChannel" class="form-select">
                                    <option value="general-updates"> general-updates</option>
                                    <option value="algo-recaps"> algo-recaps</option>
                                    <option value="algo-stats"> algorithm-stats</option>
                                    <option value="algo-announcements"> algo-announcements</option>
                                </select>
                            </div>
                        </div>

                        <!-- Omnisend Notification Options -->
                        <div class="notification-options" style="background: rgba(255, 215, 0, 0.05); border: 1px solid rgba(255, 215, 0, 0.2); border-radius: 12px; padding: 20px; margin-top: 24px;">
                            <h4 style="color: #FFD700; font-size: 14px; font-weight: 700; margin-bottom: 16px; text-transform: uppercase; letter-spacing: 1px;">
                                 Send Notifications
                            </h4>
                            <div class="checkbox-group" style="display: flex; flex-direction: column; gap: 12px;">
                                <label class="checkbox-label" style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                    <input 
                                        type="checkbox" 
                                        id="sendEmailNotification" 
                                        style="width: 18px; height: 18px; cursor: pointer; accent-color: #FFD700;"
                                    />
                                    <span style="color: rgba(255, 255, 255, 0.9); font-size: 15px;">
                                         Send Email Notification to all users
                                    </span>
                                </label>
                                <label class="checkbox-label" style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                                    <input 
                                        type="checkbox" 
                                        id="sendWebPushNotification" 
                                        style="width: 18px; height: 18px; cursor: pointer; accent-color: #FFD700;"
                                    />
                                    <span style="color: rgba(255, 255, 255, 0.9); font-size: 15px;">
                                         Send Web Push Notification to all users
                                    </span>
                                </label>
                            </div>
                            <p style="color: rgba(255, 255, 255, 0.5); font-size: 12px; margin-top: 12px; line-height: 1.5;">
                                 Notifications will be sent via Omnisend to all active users. Make sure your Omnisend API key is configured.
                            </p>
                        </div>

                        <button type="submit" class="admin-btn admin-btn-primary" style="width: 100%; margin-top: 24px;">
                            Send Announcement
                        </button>
                    </form>
                </div>

                <!-- Recent Announcements -->
                <div class="recent-announcements-card">
                    <h3>Manage Announcements</h3>
                    <p style="color: rgba(255,255,255,0.6); font-size: 14px; margin-top: 8px;">View and delete announcements (showing last 10)</p>
                    <div id="recentAnnouncementsList" class="recent-list">
                        <div class="recent-item">
                            <div class="recent-icon"></div>
                            <div class="recent-content">
                                <div class="recent-title">New Feature Alert!</div>
                                <div class="recent-time">Today at 10:30 AM</div>
                            </div>
                        </div>
                        <div class="recent-item">
                            <div class="recent-icon"></div>
                            <div class="recent-content">
                                <div class="recent-title">Market Update</div>
                                <div class="recent-time">Yesterday at 3:15 PM</div>
                            </div>
                        </div>
                        <div class="recent-item">
                            <div class="recent-icon"></div>
                            <div class="recent-content">
                                <div class="recent-title">Holiday Trading Schedule</div>
                                <div class="recent-time">Dec 25 at 9:00 AM</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- User Management Section -->
        <div class="admin-user-management-section" id="adminUserManagementSection">
            <div class="admin-announcements-header">
                <button class="admin-back-btn" onclick="hideUserManagement()"> Back to Dashboard</button>
                <h2>User Management</h2>
            </div>

            <div class="admin-announcements-content">
                <!-- Main Grid -->
                <div class="user-management-grid">
                    <!-- Stats Column (Left) -->
                    <div class="user-stats-grid">
                        <div class="user-stat-card">
                            <div class="user-stat-label">Total Users</div>
                            <div class="user-stat-value" id="totalUsersCount">0</div>
                        </div>
                        <div class="user-stat-card">
                            <div class="user-stat-label">Active Today</div>
                            <div class="user-stat-value" id="activeUsersCount">0</div>
                        </div>
                        <div class="user-stat-card">
                            <div class="user-stat-label">New This Week</div>
                            <div class="user-stat-value" id="newUsersCount">0</div>
                        </div>
                        <div class="user-stat-card">
                            <div class="user-stat-label">Admins</div>
                            <div class="user-stat-value" id="adminUsersCount">0</div>
                        </div>
                    </div>

                    <!-- Create User Form (Middle) -->
                    <div class="send-announcement-card">
                        <h3> Create New User</h3>
                        <form id="createUserForm" onsubmit="createNewUser(event)">
                            <div class="form-group">
                                <label for="newUserName">Full Name</label>
                                <input 
                                    type="text" 
                                    class="form-input" 
                                    id="newUserName" 
                                    placeholder="John Doe"
                                    required
                                />
                            </div>

                            <div class="form-group">
                                <label for="newUserEmail">Email Address</label>
                                <input 
                                    type="email" 
                                    class="form-input" 
                                    id="newUserEmail" 
                                    placeholder="john@example.com"
                                    required
                                />
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="newUserUsername">Username</label>
                                    <input 
                                        type="text" 
                                        class="form-input" 
                                        id="newUserUsername" 
                                        placeholder="johndoe"
                                        required
                                    />
                                </div>

                                <div class="form-group">
                                    <label for="newUserPassword">Password</label>
                                    <input 
                                        type="password" 
                                        class="form-input" 
                                        id="newUserPassword" 
                                        placeholder=""
                                        required
                                    />
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="newUserRole">Role</label>
                                    <select class="form-select" id="newUserRole">
                                        <option value="user">Standard User</option>
                                        <option value="premium">Premium User</option>
                                        <option value="admin">Administrator</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label for="newUserStatus">Status</label>
                                    <select class="form-select" id="newUserStatus">
                                        <option value="active">Active</option>
                                        <option value="inactive">Inactive</option>
                                    </select>
                                </div>
                            </div>

                            <button type="submit" class="admin-btn admin-btn-primary" style="width: 100%;">
                                Create User Account
                            </button>
                        </form>
                    </div>

                    <!-- User List -->
                    <div class="recent-announcements-card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3>User Directory</h3>
                        </div>
                        
                        <div class="user-search-bar">
                            <input 
                                type="text" 
                                class="form-input" 
                                id="userSearchInput"
                                placeholder=" Search by name, email, or username..."
                                onkeyup="filterUserList()"
                                style="margin-bottom: 1rem;"
                            />
                        </div>

                        <div id="userManagementList" class="user-management-list">
                            <!-- Users will be dynamically loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Media Management Section -->
        <div class="admin-user-management-section" id="adminMediaManagementSection">
            <div class="admin-announcements-header">
                <button class="admin-back-btn" onclick="hideMediaManagement()"> Back to Dashboard</button>
                <h2> Media Management</h2>
            </div>

            <div class="admin-announcements-content">
                <!-- Add New Video Form -->
                <div class="send-announcement-card">
                    <h3> Add New Video</h3>
                    <form id="addVideoForm" onsubmit="addNewVideo(event)">
                        <div class="form-group">
                            <label for="videoTitle">Video Title</label>
                            <input 
                                type="text" 
                                id="videoTitle" 
                                class="form-input" 
                                placeholder="e.g., Weekly Trading Recap..." 
                                required
                            />
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="videoCategory">Category</label>
                                <select class="form-select" id="videoCategory" required>
                                    <option value="">Select category...</option>
                                    <option value="Performance Updates">Performance Updates</option>
                                    <option value="Getting Started">Getting Started</option>
                                    <option value="Strategy">Strategy</option>
                                    <option value="Risk Management">Risk Management</option>
                                    <option value="Analysis">Analysis</option>
                                    <option value="Mindset">Mindset</option>
                                    <option value="Technology">Technology</option>
                                    <option value="Market Updates">Market Updates</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="videoDuration">Duration (minutes)</label>
                                <input 
                                    type="text" 
                                    id="videoDuration" 
                                    class="form-input" 
                                    placeholder="e.g., 22" 
                                    required
                                />
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="videoLoomUrl">Loom Embed URL</label>
                            <input 
                                type="url" 
                                id="videoLoomUrl" 
                                class="form-input" 
                                placeholder="https://www.loom.com/embed/..." 
                                required
                            />
                            <small style="color: rgba(255,255,255,0.5); font-size: 13px; margin-top: 4px; display: block;">
                                Paste the Loom embed URL (starts with https://www.loom.com/embed/)
                            </small>
                        </div>

                        <div class="form-group">
                            <label for="videoSummary">Summary / Description</label>
                            <textarea 
                                id="videoSummary" 
                                class="form-input" 
                                rows="4" 
                                placeholder="Describe what viewers will learn in this video..." 
                                required
                            ></textarea>
                        </div>

                        <div class="form-group">
                            <label for="videoTopics">Topics (comma-separated)</label>
                            <input 
                                type="text" 
                                id="videoTopics" 
                                class="form-input" 
                                placeholder="e.g., VoodooBot, PropBot, Risk Management" 
                                required
                            />
                            <small style="color: rgba(255,255,255,0.5); font-size: 13px; margin-top: 4px; display: block;">
                                Separate topics with commas
                            </small>
                        </div>

                        <button type="submit" class="admin-btn admin-btn-primary" style="width: 100%;" id="addVideoBtn">
                             Add Video to Library
                        </button>
                    </form>
                </div>

                <!-- Video List -->
                <div class="recent-announcements-card">
                    <h3>Video Library (Database)</h3>
                    <p style="color: rgba(255,255,255,0.6); font-size: 14px; margin-top: 8px;">Manage all videos in the library</p>
                    <div id="videoLibraryList" class="recent-list">
                        <div class="recent-item" style="justify-content: center; padding: 30px; color: rgba(255,255,255,0.4);">
                            Loading videos...
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stats Management Section -->
        <div class="admin-user-management-section" id="adminStatsManagementSection">
            <div class="admin-announcements-header">
                <button class="admin-back-btn" onclick="hideStatsManagement()"> Back to Dashboard</button>
                <h2> Stats Management</h2>
            </div>

            <div class="admin-announcements-content">
                <!-- Update Stats Form -->
                <div class="send-announcement-card">
                    <h3> Update Homepage Statistics</h3>
                    <p style="color: rgba(255,255,255,0.6); font-size: 14px; margin-bottom: 24px;">
                        Update the four statistics cards displayed on the client homepage.
                    </p>
                    
                    <form id="updateStatsForm" onsubmit="updateHomeStats(event)">
                        
                        <!-- Total Return Card -->
                        <div class="stats-card-editor">
                            <h4 style="color: #FFD700; font-size: 16px; margin-bottom: 16px;"> Total Return</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="totalReturnValue">Main Value (e.g., +32.4%)</label>
                                    <input 
                                        type="text" 
                                        id="totalReturnValue" 
                                        class="form-input" 
                                        placeholder="+32.4%" 
                                        required
                                    />
                                </div>
                                <div class="form-group">
                                    <label for="totalReturnChange">Change Text (e.g.,  4.8% this week)</label>
                                    <input 
                                        type="text" 
                                        id="totalReturnChange" 
                                        class="form-input" 
                                        placeholder=" 4.8% this week" 
                                        required
                                    />
                                </div>
                            </div>
                        </div>

                        <!-- Portfolio Value Card -->
                        <div class="stats-card-editor">
                            <h4 style="color: #FFD700; font-size: 16px; margin-bottom: 16px;"> Portfolio Value</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="portfolioValue">Main Value (e.g., $1.2M)</label>
                                    <input 
                                        type="text" 
                                        id="portfolioValue" 
                                        class="form-input" 
                                        placeholder="$1.2M" 
                                        required
                                    />
                                </div>
                                <div class="form-group">
                                    <label for="portfolioChange">Change Text (e.g.,  $86.4K)</label>
                                    <input 
                                        type="text" 
                                        id="portfolioChange" 
                                        class="form-input" 
                                        placeholder=" $86.4K" 
                                        required
                                    />
                                </div>
                            </div>
                        </div>

                        <!-- Active Strategies Card -->
                        <div class="stats-card-editor">
                            <h4 style="color: #FFD700; font-size: 16px; margin-bottom: 16px;"> Active Strategies</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="activeStrategiesValue">Main Value (e.g., 15)</label>
                                    <input 
                                        type="text" 
                                        id="activeStrategiesValue" 
                                        class="form-input" 
                                        placeholder="15" 
                                        required
                                    />
                                </div>
                                <div class="form-group">
                                    <label for="activeStrategiesChange">Change Text (e.g.,  3 deployed)</label>
                                    <input 
                                        type="text" 
                                        id="activeStrategiesChange" 
                                        class="form-input" 
                                        placeholder=" 3 deployed" 
                                        required
                                    />
                                </div>
                            </div>
                        </div>

                        <!-- Success Rate Card -->
                        <div class="stats-card-editor">
                            <h4 style="color: #FFD700; font-size: 16px; margin-bottom: 16px;"> Success Rate</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="successRateValue">Main Value (e.g., 71.8%)</label>
                                    <input 
                                        type="text" 
                                        id="successRateValue" 
                                        class="form-input" 
                                        placeholder="71.8%" 
                                        required
                                    />
                                </div>
                                <div class="form-group">
                                    <label for="successRateChange">Change Text (e.g.,  2.3%)</label>
                                    <input 
                                        type="text" 
                                        id="successRateChange" 
                                        class="form-input" 
                                        placeholder=" 2.3%" 
                                        required
                                    />
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="admin-btn admin-btn-primary" style="width: 100%; margin-top: 24px;" id="updateStatsBtn">
                             Update All Statistics
                        </button>
                    </form>
                </div>

                <!-- Current Stats Preview -->
                <div class="recent-announcements-card">
                    <h3>Current Statistics</h3>
                    <p style="color: rgba(255,255,255,0.6); font-size: 14px; margin-top: 8px;">Live preview of what clients see</p>
                    
                    <div style="margin-top: 24px;">
                        <div class="stats-preview-grid">
                            <div class="stats-preview-card">
                                <div class="stats-preview-label">TOTAL RETURN</div>
                                <div class="stats-preview-value" id="previewTotalReturn">+32.4%</div>
                                <div class="stats-preview-change" id="previewTotalReturnChange"> 4.8% this week</div>
                            </div>
                            <div class="stats-preview-card">
                                <div class="stats-preview-label">PORTFOLIO VALUE</div>
                                <div class="stats-preview-value" id="previewPortfolio">$1.2M</div>
                                <div class="stats-preview-change" id="previewPortfolioChange"> $86.4K</div>
                            </div>
                            <div class="stats-preview-card">
                                <div class="stats-preview-label">ACTIVE STRATEGIES</div>
                                <div class="stats-preview-value" id="previewStrategies">15</div>
                                <div class="stats-preview-change" id="previewStrategiesChange"> 3 deployed</div>
                            </div>
                            <div class="stats-preview-card">
                                <div class="stats-preview-label">SUCCESS RATE</div>
                                <div class="stats-preview-value" id="previewSuccessRate">71.8%</div>
                                <div class="stats-preview-change" id="previewSuccessRateChange"> 2.3%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Manager Modal -->
    <div class="profile-modal" id="profileManagerModal">
        <div class="profile-modal-content">
            <div class="profile-modal-header">
                <h2> Manage Announcement Profiles</h2>
                <button class="profile-modal-close" onclick="hideProfileManager()"></button>
            </div>

            <div class="profile-modal-body">
                <!-- Current Profiles List -->
                <div class="profiles-list" id="profilesList">
                    <!-- Profiles will be loaded here -->
                </div>

                <!-- Create New Profile Form -->
                <div class="create-profile-section">
                    <h3>Create New Profile</h3>
                    <form id="createProfileForm" onsubmit="createAnnouncementProfile(event)">
                        <div class="form-group">
                            <label for="profileName">Profile Name</label>
                            <input 
                                type="text" 
                                id="profileName" 
                                class="form-input" 
                                placeholder="e.g., Sarah (Customer Success)" 
                                required
                            />
                        </div>

                        <div class="form-group">
                            <label>Profile Icon</label>
                            <input type="hidden" id="selectedIcon" value="" />
                            
                            <div class="icon-picker-display" onclick="toggleIconPicker()">
                                <div class="selected-icon-preview" id="selectedIconPreview"></div>
                                <div class="icon-picker-label">Click to choose icon</div>
                            </div>

                            <div class="icon-picker-dropdown" id="iconPickerDropdown" style="display: none;">
                                <div class="icon-picker-tabs">
                                    <button type="button" class="icon-tab active" onclick="showIconCategory('people')" id="peopleTab">
                                         People
                                    </button>
                                    <button type="button" class="icon-tab" onclick="showIconCategory('business')" id="businessTab">
                                         Business
                                    </button>
                                    <button type="button" class="icon-tab" onclick="showIconCategory('tech')" id="techTab">
                                         Tech
                                    </button>
                                </div>

                                <div class="icon-grid" id="peopleIcons">
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option pi-logo-option" onclick="selectIcon('PI')">
                                        <img src="PIlogo.png" alt="PI" style="width: 28px; height: 28px; object-fit: contain;" />
                                    </button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                </div>

                                <div class="icon-grid" id="businessIcons" style="display: none;">
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                </div>

                                <div class="icon-grid" id="techIcons" style="display: none;">
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                    <button type="button" class="icon-option" onclick="selectIcon('')"></button>
                                </div>
                            </div>
                        </div>

                        <button type="submit" class="btn-primary">Create Profile</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Preferences Modal -->
    <div class="profile-modal" id="preferencesModal">
        <div class="profile-modal-content">
            <div class="profile-modal-header">
                <h2> Preferences</h2>
                <button class="profile-modal-close" onclick="closePreferences()"></button>
            </div>

            <div class="profile-modal-body" style="max-width: 500px; margin: 0 auto;">
                
                <!-- Theme Settings -->
                <div class="preference-section">
                    <h3 style="font-size: 18px; margin-bottom: 16px; color: #FFD700;"> Appearance</h3>
                    
                    <div class="preference-item">
                        <div class="preference-label">
                            <strong>Theme</strong>
                            <p style="font-size: 13px; color: rgba(255,255,255,0.6); margin-top: 4px;">Choose your preferred color scheme</p>
                        </div>
                        <div class="theme-toggle">
                            <button class="theme-option active" id="darkModeBtn" onclick="setTheme('dark')">
                                 Dark Mode
                            </button>
                            <button class="theme-option" id="lightModeBtn" onclick="setTheme('light')">
                                 Light Mode
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Magnification Settings -->
                <div class="preference-section" style="margin-top: 32px;">
                    <h3 style="font-size: 18px; margin-bottom: 16px; color: #FFD700;"> Display Size</h3>
                    
                    <div class="preference-item">
                        <div class="preference-label">
                            <strong>Zoom Level</strong>
                            <p style="font-size: 13px; color: rgba(255,255,255,0.6); margin-top: 4px;">Adjust the size of text and interface elements</p>
                        </div>
                        
                        <div class="zoom-slider-container">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <span style="font-size: 12px; color: rgba(255,255,255,0.5);">75%</span>
                                <span id="zoomValue" style="font-size: 14px; font-weight: 600; color: #FFD700;">100%</span>
                                <span style="font-size: 12px; color: rgba(255,255,255,0.5);">150%</span>
                            </div>
                            <input 
                                type="range" 
                                class="zoom-slider" 
                                id="zoomSlider"
                                min="75" 
                                max="150" 
                                value="100" 
                                step="5"
                                oninput="updateZoom(this.value)"
                            />
                            <div class="zoom-presets">
                                <button class="zoom-preset-btn" onclick="setZoom(75)">Small</button>
                                <button class="zoom-preset-btn active" onclick="setZoom(100)">Default</button>
                                <button class="zoom-preset-btn" onclick="setZoom(125)">Large</button>
                                <button class="zoom-preset-btn" onclick="setZoom(150)">X-Large</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Save Notice -->
                <div style="margin-top: 32px; padding: 16px; background: rgba(255, 215, 0, 0.1); border: 1px solid rgba(255, 215, 0, 0.2); border-radius: 12px;">
                    <p style="font-size: 13px; color: rgba(255,255,255,0.8); margin: 0;">
                         Your preferences are automatically saved and will persist across sessions.
                    </p>
                </div>

            </div>
        </div>
    </div>

    <!--Start of Tawk.to Script-->
    <script type="text/javascript">
    var Tawk_API = Tawk_API || {};
    var Tawk_LoadStart = new Date();
    
    (function(){
        var s1 = document.createElement("script");
        var s0 = document.getElementsByTagName("script")[0];
        s1.async = true;
        s1.src = 'https://embed.tawk.to/695452bda6d2071982ebf8aa/1jdtsqmsm';
        s1.charset = 'UTF-8';
        s1.setAttribute('crossorigin','*');
        s0.parentNode.insertBefore(s1,s0);
    })();
    </script>
    <!--End of Tawk.to Script-->

    <!--Start of Tawk.to Embedded Widget for Support Page-->
    <script type="text/javascript">
    // Separate embedded widget for Support page container
    document.addEventListener('DOMContentLoaded', function() {
        const supportPageContainer = document.getElementById('tawk_695452bda6d2071982ebf8aa');
        if (supportPageContainer) {
            // Create embedded instance for the support page container
            var Tawk_API_Embedded = Tawk_API_Embedded || {};
            Tawk_API_Embedded.embedded = 'tawk_695452bda6d2071982ebf8aa';
        }
    });
    </script>
    <!--End of Tawk.to Embedded Widget-->

</body>
</html>